[debug] [2022-06-27T05:36:45.345Z] ----------------------------------------------------------------------
[debug] [2022-06-27T05:36:45.349Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start
[debug] [2022-06-27T05:36:45.350Z] CLI Version:   11.1.0
[debug] [2022-06-27T05:36:45.350Z] Platform:      linux
[debug] [2022-06-27T05:36:45.350Z] Node Version:  v16.15.1
[debug] [2022-06-27T05:36:45.351Z] Time:          Mon Jun 27 2022 11:06:45 GMT+0530 (India Standard Time)
[debug] [2022-06-27T05:36:45.351Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-06-27T05:36:45.462Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-06-27T05:36:45.463Z] > authorizing via signed-in user (prathamdhimand06534@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[warn] ⚠  emulators: It seems that you are running multiple instances of the emulator suite for project clone-a18f1. This may result in unexpected behavior. 
[debug] [2022-06-27T05:36:45.533Z] [hub] writing locator at /tmp/hub-clone-a18f1.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2022-06-27T05:36:45.579Z] defaultcredentials: writing to file /home/pratham/.config/firebase/prathamdhimand06534_gmail_com_application_default_credentials.json
[debug] [2022-06-27T05:36:45.591Z] Setting GAC to /home/pratham/.config/firebase/prathamdhimand06534_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/pratham/.config/firebase/prathamdhimand06534_gmail_com_application_default_credentials.json"}}
[debug] [2022-06-27T05:36:45.595Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-a18f1/adminSdkConfig [none]
[debug] [2022-06-27T05:36:46.083Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-a18f1/adminSdkConfig 200
[debug] [2022-06-27T05:36:46.083Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-a18f1/adminSdkConfig {"projectId":"clone-a18f1","storageBucket":"clone-a18f1.appspot.com"}
[debug] [2022-06-27T05:36:46.106Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-a18f1/sites 
[debug] [2022-06-27T05:36:48.046Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-a18f1/sites 200
[debug] [2022-06-27T05:36:48.046Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-a18f1/sites {"sites":[{"name":"projects/clone-a18f1/sites/clone-a18f1","defaultUrl":"https://clone-a18f1.web.app","type":"DEFAULT_SITE"}]}
[debug] [2022-06-27T05:36:48.047Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-a18f1/webApps/-/config [none]
[debug] [2022-06-27T05:36:49.273Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-a18f1/webApps/-/config 200
[debug] [2022-06-27T05:36:49.273Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-a18f1/webApps/-/config {"projectId":"clone-a18f1","appId":"1:1017872718667:web:a01eef0ba52e02685326ce","storageBucket":"clone-a18f1.appspot.com","apiKey":"AIzaSyB46XSFX3EYQYrErLxiCRVY67Kc8oUB9Oo","authDomain":"clone-a18f1.firebaseapp.com","messagingSenderId":"1017872718667","measurementId":"G-B6KMJFD3TP"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[warn] ⚠  ui: Emulator UI unable to start on port 4000, starting on 4002 instead. {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI unable to start on port 4000, starting on 4002 instead."}}
[debug] [2022-06-27T05:36:49.322Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-06-27T05:36:49.322Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2022-06-27T05:36:49.322Z] Starting Emulator UI with command {"binary":"node","args":["--dns-result-order=ipv4first","/home/pratham/.cache/firebase/emulators/ui-v1.7.0/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"--dns-result-order=ipv4first\",\"/home/pratham/.cache/firebase/emulators/ui-v1.7.0/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2022-06-27T05:36:49.514Z] Web / API server started at localhost:4002
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at localhost:4002\n"}}
[info] i  functions: Watching "/home/pratham/web_projects/amazon-clone/Amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2022-06-27T05:36:49.602Z] Validating nodejs source
[debug] [2022-06-27T05:36:51.368Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^9.10.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-06-27T05:36:51.368Z] Building nodejs source
[debug] [2022-06-27T05:36:51.368Z] Analyzing nodejs backend spec
[debug] [2022-06-27T05:36:51.371Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-06-27T05:36:51.617Z] Serving at port 9005

[debug] [2022-06-27T05:36:51.775Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-06-27T05:36:51.791Z] shutdown requested via /__/quitquitquit

[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5001/clone-a18f1/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-a18f1/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4002                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4002/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2022-06-27T05:37:13.130Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:37:13.131Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:37:13.131Z] Accepted request GET /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:37:13.147Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:37:13.147Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:37:13.148Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:37:13.148Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: Assigning socketPath: /tmp/fire_emu_157836.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: Assigning socketPath: /tmp/fire_emu_157836.sock"}}
[debug] [2022-06-27T05:37:13.149Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: BUSY"}}
[debug] [2022-06-27T05:37:14.509Z] [runtime-status] [157836] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:37:14.511Z] [runtime-status] [157836] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:37:14.514Z] [runtime-status] [157836] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:37:14.517Z] [runtime-status] [157836] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:37:14.517Z] [runtime-status] [157836] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:37:14.520Z] [runtime-status] [157836] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:37:14.583Z] [runtime-status] [157836] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:37:14.584Z] [runtime-status] [157836] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:37:14.586Z] [runtime-status] [157836] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:37:14.587Z] [runtime-status] [157836] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:37:14.588Z] [runtime-status] [157836] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:37:14.591Z] [runtime-status] [157836] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:37:14.741Z] [runtime-status] [157836] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:37:14.742Z] [runtime-status] [157836] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Running api in signature http"}}
[debug] [2022-06-27T05:37:14.749Z] [runtime-status] [157836] Attempting to listen to socketPath: /tmp/fire_emu_157836.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Attempting to listen to socketPath: /tmp/fire_emu_157836.sock"}}
[debug] [2022-06-27T05:37:14.755Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:37:14.757Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:37:14.767Z] [runtime-status] [157836] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Ephemeral server handling GET request"}}
[debug] [2022-06-27T05:37:14.779Z] [runtime-status] [157836] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-06-27T05:37:14.783Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: IDLE"}}
[debug] [2022-06-27T05:37:14.783Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:37:14.986Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:37:14.986Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:37:14.986Z] Accepted request GET /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:37:14.987Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:37:14.987Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: Assigning socketPath: /tmp/fire_emu_157836.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: Assigning socketPath: /tmp/fire_emu_157836.sock"}}
[debug] [2022-06-27T05:37:14.987Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: BUSY"}}
[debug] [2022-06-27T05:37:14.989Z] [runtime-status] [157836] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:37:14.990Z] [runtime-status] [157836] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Running api in signature http"}}
[debug] [2022-06-27T05:37:14.991Z] [runtime-status] [157836] Attempting to listen to socketPath: /tmp/fire_emu_157836.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Attempting to listen to socketPath: /tmp/fire_emu_157836.sock"}}
[debug] [2022-06-27T05:37:14.993Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:37:14.994Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:37:14.998Z] [runtime-status] [157836] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Ephemeral server handling GET request"}}
[debug] [2022-06-27T05:37:15.001Z] [runtime-status] [157836] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-06-27T05:37:15.004Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: IDLE"}}
[debug] [2022-06-27T05:37:15.004Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:38:00.488Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:38:00.488Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:38:00.489Z] Accepted request GET /clone-a18f1/us-central1/api --> us-central1-api
[debug] [2022-06-27T05:38:00.489Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:38:00.490Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: Assigning socketPath: /tmp/fire_emu_157836.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: Assigning socketPath: /tmp/fire_emu_157836.sock"}}
[debug] [2022-06-27T05:38:00.490Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: BUSY"}}
[debug] [2022-06-27T05:38:00.497Z] [runtime-status] [157836] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:38:00.500Z] [runtime-status] [157836] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Running api in signature http"}}
[debug] [2022-06-27T05:38:00.500Z] [runtime-status] [157836] Attempting to listen to socketPath: /tmp/fire_emu_157836.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Attempting to listen to socketPath: /tmp/fire_emu_157836.sock"}}
[debug] [2022-06-27T05:38:00.507Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:38:00.508Z] [functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/"}}
[debug] [2022-06-27T05:38:00.516Z] [runtime-status] [157836] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Ephemeral server handling GET request"}}
[debug] [2022-06-27T05:38:00.522Z] [runtime-status] [157836] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-06-27T05:38:00.524Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: IDLE"}}
[debug] [2022-06-27T05:38:00.524Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:38:09.824Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:38:09.824Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:38:09.825Z] Accepted request GET /clone-a18f1/us-central1/api --> us-central1-api
[debug] [2022-06-27T05:38:09.825Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:38:09.825Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: Assigning socketPath: /tmp/fire_emu_157836.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: Assigning socketPath: /tmp/fire_emu_157836.sock"}}
[debug] [2022-06-27T05:38:09.825Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: BUSY"}}
[debug] [2022-06-27T05:38:09.826Z] [runtime-status] [157836] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:38:09.828Z] [runtime-status] [157836] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Running api in signature http"}}
[debug] [2022-06-27T05:38:09.829Z] [runtime-status] [157836] Attempting to listen to socketPath: /tmp/fire_emu_157836.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Attempting to listen to socketPath: /tmp/fire_emu_157836.sock"}}
[debug] [2022-06-27T05:38:09.832Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:38:09.833Z] [functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/"}}
[debug] [2022-06-27T05:38:09.839Z] [runtime-status] [157836] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Ephemeral server handling GET request"}}
[debug] [2022-06-27T05:38:09.843Z] [runtime-status] [157836] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-06-27T05:38:09.845Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: IDLE"}}
[debug] [2022-06-27T05:38:09.845Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:38:21.991Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:38:21.991Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:38:21.992Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:38:21.992Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:38:21.992Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: Assigning socketPath: /tmp/fire_emu_157836.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: Assigning socketPath: /tmp/fire_emu_157836.sock"}}
[debug] [2022-06-27T05:38:21.993Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: BUSY"}}
[debug] [2022-06-27T05:38:21.995Z] [runtime-status] [157836] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:38:21.996Z] [runtime-status] [157836] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Running api in signature http"}}
[debug] [2022-06-27T05:38:21.997Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-06-27T05:38:21.997Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-06-27T05:38:21.998Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:38:22.012Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:38:22.015Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-06-27T05:38:22.016Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:38:22.016Z] [worker-us-central1-api-f618fb6a-dcf2-4864-8663-a80e216986c0]: Assigning socketPath: /tmp/fire_emu_159036.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f618fb6a-dcf2-4864-8663-a80e216986c0]: Assigning socketPath: /tmp/fire_emu_159036.sock"}}
[debug] [2022-06-27T05:38:22.016Z] [worker-us-central1-api-f618fb6a-dcf2-4864-8663-a80e216986c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f618fb6a-dcf2-4864-8663-a80e216986c0]: BUSY"}}
[debug] [2022-06-27T05:38:22.018Z] [runtime-status] [157836] Attempting to listen to socketPath: /tmp/fire_emu_157836.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Attempting to listen to socketPath: /tmp/fire_emu_157836.sock"}}
[debug] [2022-06-27T05:38:22.020Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:38:22.021Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:38:22.027Z] [runtime-status] [157836] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:38:22.049Z] [runtime-status] [157836] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [157836] Ephemeral server survived."}}
[debug] [2022-06-27T05:38:23.501Z] [runtime-status] [159036] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:38:23.504Z] [runtime-status] [159036] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:38:23.507Z] [runtime-status] [159036] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:38:23.509Z] [runtime-status] [159036] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:38:23.511Z] [runtime-status] [159036] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:38:23.513Z] [runtime-status] [159036] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:38:23.573Z] [runtime-status] [159036] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:38:23.573Z] [runtime-status] [159036] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:38:23.575Z] [runtime-status] [159036] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:38:23.578Z] [runtime-status] [159036] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:38:23.581Z] [runtime-status] [159036] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:38:23.581Z] [runtime-status] [159036] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:38:23.733Z] [runtime-status] [159036] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:38:23.734Z] [runtime-status] [159036] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Running api in signature http"}}
[debug] [2022-06-27T05:38:23.739Z] [runtime-status] [159036] Attempting to listen to socketPath: /tmp/fire_emu_159036.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Attempting to listen to socketPath: /tmp/fire_emu_159036.sock"}}
[debug] [2022-06-27T05:38:23.745Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:38:23.746Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:38:23.756Z] [runtime-status] [159036] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:38:23.780Z] [runtime-status] [159036] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159036] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:38:25 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:38:25 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:38:25 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '65d96a76-0637-426c-a18a-aa9e665ea611', {"user":"      'idempotency-key': '65d96a76-0637-426c-a18a-aa9e665ea611',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '65d96a76-0637-426c-a18a-aa9e665ea611',"}}
[info] >        'original-request': 'req_vGRUYzpBygtTgz', {"user":"      'original-request': 'req_vGRUYzpBygtTgz',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_vGRUYzpBygtTgz',"}}
[info] >        'request-id': 'req_vGRUYzpBygtTgz', {"user":"      'request-id': 'req_vGRUYzpBygtTgz',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_vGRUYzpBygtTgz',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_vGRUYzpBygtTgz' {"user":"    requestId: 'req_vGRUYzpBygtTgz'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_vGRUYzpBygtTgz'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:38:25 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:38:25 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:38:25 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '65d96a76-0637-426c-a18a-aa9e665ea611', {"user":"    'idempotency-key': '65d96a76-0637-426c-a18a-aa9e665ea611',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '65d96a76-0637-426c-a18a-aa9e665ea611',"}}
[info] >      'original-request': 'req_vGRUYzpBygtTgz', {"user":"    'original-request': 'req_vGRUYzpBygtTgz',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_vGRUYzpBygtTgz',"}}
[info] >      'request-id': 'req_vGRUYzpBygtTgz', {"user":"    'request-id': 'req_vGRUYzpBygtTgz',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_vGRUYzpBygtTgz',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_vGRUYzpBygtTgz', {"user":"  requestId: 'req_vGRUYzpBygtTgz',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_vGRUYzpBygtTgz',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:38:25 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:38:25 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:38:25 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'c6b9370a-78eb-44ba-976c-d3e39688954e', {"user":"      'idempotency-key': 'c6b9370a-78eb-44ba-976c-d3e39688954e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'c6b9370a-78eb-44ba-976c-d3e39688954e',"}}
[info] >        'original-request': 'req_AigYKauoaEBcdZ', {"user":"      'original-request': 'req_AigYKauoaEBcdZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_AigYKauoaEBcdZ',"}}
[info] >        'request-id': 'req_AigYKauoaEBcdZ', {"user":"      'request-id': 'req_AigYKauoaEBcdZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_AigYKauoaEBcdZ',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_AigYKauoaEBcdZ' {"user":"    requestId: 'req_AigYKauoaEBcdZ'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_AigYKauoaEBcdZ'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:38:25 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:38:25 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:38:25 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'c6b9370a-78eb-44ba-976c-d3e39688954e', {"user":"    'idempotency-key': 'c6b9370a-78eb-44ba-976c-d3e39688954e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'c6b9370a-78eb-44ba-976c-d3e39688954e',"}}
[info] >      'original-request': 'req_AigYKauoaEBcdZ', {"user":"    'original-request': 'req_AigYKauoaEBcdZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_AigYKauoaEBcdZ',"}}
[info] >      'request-id': 'req_AigYKauoaEBcdZ', {"user":"    'request-id': 'req_AigYKauoaEBcdZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_AigYKauoaEBcdZ',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_AigYKauoaEBcdZ', {"user":"  requestId: 'req_AigYKauoaEBcdZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_AigYKauoaEBcdZ',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:38:25.240Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: exited"}}
[debug] [2022-06-27T05:38:25.240Z] [worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-102ea78d-7ee4-4258-a7ff-aed2aa35b3b2]: FINISHED"}}
[debug] [2022-06-27T05:38:25.241Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:38:25.241Z] [worker-us-central1-api-f618fb6a-dcf2-4864-8663-a80e216986c0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f618fb6a-dcf2-4864-8663-a80e216986c0]: exited"}}
[debug] [2022-06-27T05:38:25.242Z] [worker-us-central1-api-f618fb6a-dcf2-4864-8663-a80e216986c0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f618fb6a-dcf2-4864-8663-a80e216986c0]: FINISHED"}}
[debug] [2022-06-27T05:38:25.242Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:38:55.440Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:38:55.441Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:38:55.441Z] Accepted request GET /clone-a18f1/us-central1/api --> us-central1-api
[debug] [2022-06-27T05:38:55.441Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-06-27T05:38:55.453Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:38:55.453Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:38:55.453Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:38:55.454Z] [worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: Assigning socketPath: /tmp/fire_emu_159511.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: Assigning socketPath: /tmp/fire_emu_159511.sock"}}
[debug] [2022-06-27T05:38:55.454Z] [worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: BUSY"}}
[debug] [2022-06-27T05:38:56.792Z] [runtime-status] [159511] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:38:56.795Z] [runtime-status] [159511] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:38:56.799Z] [runtime-status] [159511] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:38:56.803Z] [runtime-status] [159511] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:38:56.803Z] [runtime-status] [159511] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:38:56.804Z] [runtime-status] [159511] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:38:56.864Z] [runtime-status] [159511] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:38:56.865Z] [runtime-status] [159511] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:38:56.866Z] [runtime-status] [159511] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:38:56.869Z] [runtime-status] [159511] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:38:56.869Z] [runtime-status] [159511] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:38:56.871Z] [runtime-status] [159511] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:38:57.032Z] [runtime-status] [159511] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:38:57.033Z] [runtime-status] [159511] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Running api in signature http"}}
[debug] [2022-06-27T05:38:57.038Z] [runtime-status] [159511] Attempting to listen to socketPath: /tmp/fire_emu_159511.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Attempting to listen to socketPath: /tmp/fire_emu_159511.sock"}}
[debug] [2022-06-27T05:38:57.045Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:38:57.046Z] [functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/"}}
[debug] [2022-06-27T05:38:57.056Z] [runtime-status] [159511] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Ephemeral server handling GET request"}}
[debug] [2022-06-27T05:38:57.073Z] [runtime-status] [159511] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-06-27T05:38:57.077Z] [worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: IDLE"}}
[debug] [2022-06-27T05:38:57.078Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:39:21.597Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:39:21.598Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:39:21.598Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=5552 --> us-central1-api
[debug] [2022-06-27T05:39:21.598Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:39:21.598Z] [worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: Assigning socketPath: /tmp/fire_emu_159511.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: Assigning socketPath: /tmp/fire_emu_159511.sock"}}
[debug] [2022-06-27T05:39:21.600Z] [worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: BUSY"}}
[debug] [2022-06-27T05:39:21.601Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-06-27T05:39:21.601Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-06-27T05:39:21.601Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=5552 --> us-central1-api
[debug] [2022-06-27T05:39:21.614Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:39:21.615Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-06-27T05:39:21.615Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:39:21.615Z] [worker-us-central1-api-316469bd-5805-467a-8ba2-04e330ed7cca]: Assigning socketPath: /tmp/fire_emu_159932.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-316469bd-5805-467a-8ba2-04e330ed7cca]: Assigning socketPath: /tmp/fire_emu_159932.sock"}}
[debug] [2022-06-27T05:39:21.616Z] [worker-us-central1-api-316469bd-5805-467a-8ba2-04e330ed7cca]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-316469bd-5805-467a-8ba2-04e330ed7cca]: BUSY"}}
[debug] [2022-06-27T05:39:21.617Z] [runtime-status] [159511] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:39:21.618Z] [runtime-status] [159511] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Running api in signature http"}}
[debug] [2022-06-27T05:39:21.618Z] [runtime-status] [159511] Attempting to listen to socketPath: /tmp/fire_emu_159511.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Attempting to listen to socketPath: /tmp/fire_emu_159511.sock"}}
[debug] [2022-06-27T05:39:21.624Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:39:21.624Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=5552, mapping to path=/payments/create?total=5552 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=5552, mapping to path=/payments/create?total=5552"}}
[debug] [2022-06-27T05:39:21.631Z] [runtime-status] [159511] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  5552 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  5552","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  5552"}}
[debug] [2022-06-27T05:39:21.650Z] [runtime-status] [159511] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159511] Ephemeral server survived."}}
[debug] [2022-06-27T05:39:23.021Z] [runtime-status] [159932] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:39:23.024Z] [runtime-status] [159932] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:39:23.027Z] [runtime-status] [159932] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:39:23.030Z] [runtime-status] [159932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:39:23.036Z] [runtime-status] [159932] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:39:23.036Z] [runtime-status] [159932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:39:23.096Z] [runtime-status] [159932] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:39:23.096Z] [runtime-status] [159932] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:39:23.098Z] [runtime-status] [159932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:39:23.100Z] [runtime-status] [159932] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:39:23.100Z] [runtime-status] [159932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:39:23.101Z] [runtime-status] [159932] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:39:23.254Z] [runtime-status] [159932] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:39:23.255Z] [runtime-status] [159932] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Running api in signature http"}}
[debug] [2022-06-27T05:39:23.264Z] [runtime-status] [159932] Attempting to listen to socketPath: /tmp/fire_emu_159932.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Attempting to listen to socketPath: /tmp/fire_emu_159932.sock"}}
[debug] [2022-06-27T05:39:23.271Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:39:23.272Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=5552, mapping to path=/payments/create?total=5552 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=5552, mapping to path=/payments/create?total=5552"}}
[debug] [2022-06-27T05:39:23.288Z] [runtime-status] [159932] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  5552 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  5552","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  5552"}}
[debug] [2022-06-27T05:39:23.320Z] [runtime-status] [159932] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [159932] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:39:27 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:39:27 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:39:27 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'c6e2c0d7-0376-4473-8f5d-e534712221db', {"user":"      'idempotency-key': 'c6e2c0d7-0376-4473-8f5d-e534712221db',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'c6e2c0d7-0376-4473-8f5d-e534712221db',"}}
[info] >        'original-request': 'req_UGW7I36qj4yqUi', {"user":"      'original-request': 'req_UGW7I36qj4yqUi',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_UGW7I36qj4yqUi',"}}
[info] >        'request-id': 'req_UGW7I36qj4yqUi', {"user":"      'request-id': 'req_UGW7I36qj4yqUi',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_UGW7I36qj4yqUi',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_UGW7I36qj4yqUi' {"user":"    requestId: 'req_UGW7I36qj4yqUi'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_UGW7I36qj4yqUi'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:39:27 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:39:27 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:39:27 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'c6e2c0d7-0376-4473-8f5d-e534712221db', {"user":"    'idempotency-key': 'c6e2c0d7-0376-4473-8f5d-e534712221db',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'c6e2c0d7-0376-4473-8f5d-e534712221db',"}}
[info] >      'original-request': 'req_UGW7I36qj4yqUi', {"user":"    'original-request': 'req_UGW7I36qj4yqUi',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_UGW7I36qj4yqUi',"}}
[info] >      'request-id': 'req_UGW7I36qj4yqUi', {"user":"    'request-id': 'req_UGW7I36qj4yqUi',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_UGW7I36qj4yqUi',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_UGW7I36qj4yqUi', {"user":"  requestId: 'req_UGW7I36qj4yqUi',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_UGW7I36qj4yqUi',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:39:27 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:39:27 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:39:27 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'e77de36e-728b-4f5b-8121-7bf2e707e68f', {"user":"      'idempotency-key': 'e77de36e-728b-4f5b-8121-7bf2e707e68f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'e77de36e-728b-4f5b-8121-7bf2e707e68f',"}}
[info] >        'original-request': 'req_AbNRf4BenHbkoF', {"user":"      'original-request': 'req_AbNRf4BenHbkoF',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_AbNRf4BenHbkoF',"}}
[info] >        'request-id': 'req_AbNRf4BenHbkoF', {"user":"      'request-id': 'req_AbNRf4BenHbkoF',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_AbNRf4BenHbkoF',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_AbNRf4BenHbkoF' {"user":"    requestId: 'req_AbNRf4BenHbkoF'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_AbNRf4BenHbkoF'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:39:27 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:39:27 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:39:27 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'e77de36e-728b-4f5b-8121-7bf2e707e68f', {"user":"    'idempotency-key': 'e77de36e-728b-4f5b-8121-7bf2e707e68f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'e77de36e-728b-4f5b-8121-7bf2e707e68f',"}}
[info] >      'original-request': 'req_AbNRf4BenHbkoF', {"user":"    'original-request': 'req_AbNRf4BenHbkoF',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_AbNRf4BenHbkoF',"}}
[info] >      'request-id': 'req_AbNRf4BenHbkoF', {"user":"    'request-id': 'req_AbNRf4BenHbkoF',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_AbNRf4BenHbkoF',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_AbNRf4BenHbkoF', {"user":"  requestId: 'req_AbNRf4BenHbkoF',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_AbNRf4BenHbkoF',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:39:27.470Z] [worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: exited"}}
[debug] [2022-06-27T05:39:27.470Z] [worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6e9e3060-e08e-4b1a-9044-61960b977ce1]: FINISHED"}}
[debug] [2022-06-27T05:39:27.470Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:39:27.470Z] [worker-us-central1-api-316469bd-5805-467a-8ba2-04e330ed7cca]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-316469bd-5805-467a-8ba2-04e330ed7cca]: exited"}}
[debug] [2022-06-27T05:39:27.470Z] [worker-us-central1-api-316469bd-5805-467a-8ba2-04e330ed7cca]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-316469bd-5805-467a-8ba2-04e330ed7cca]: FINISHED"}}
[debug] [2022-06-27T05:39:27.471Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:39:51.554Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:39:51.554Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:39:51.554Z] Accepted request GET /clone-a18f1/us-central1/api --> us-central1-api
[debug] [2022-06-27T05:39:51.554Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-06-27T05:39:51.565Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:39:51.566Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:39:51.566Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:39:51.566Z] [worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: Assigning socketPath: /tmp/fire_emu_160350.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: Assigning socketPath: /tmp/fire_emu_160350.sock"}}
[debug] [2022-06-27T05:39:51.566Z] [worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: BUSY"}}
[debug] [2022-06-27T05:39:52.954Z] [runtime-status] [160350] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:39:52.955Z] [runtime-status] [160350] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:39:52.959Z] [runtime-status] [160350] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:39:52.961Z] [runtime-status] [160350] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:39:52.962Z] [runtime-status] [160350] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:39:52.965Z] [runtime-status] [160350] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:39:53.028Z] [runtime-status] [160350] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:39:53.028Z] [runtime-status] [160350] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:39:53.030Z] [runtime-status] [160350] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:39:53.035Z] [runtime-status] [160350] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:39:53.035Z] [runtime-status] [160350] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:39:53.035Z] [runtime-status] [160350] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:39:53.202Z] [runtime-status] [160350] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:39:53.203Z] [runtime-status] [160350] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Running api in signature http"}}
[debug] [2022-06-27T05:39:53.213Z] [runtime-status] [160350] Attempting to listen to socketPath: /tmp/fire_emu_160350.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Attempting to listen to socketPath: /tmp/fire_emu_160350.sock"}}
[debug] [2022-06-27T05:39:53.223Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:39:53.224Z] [functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/"}}
[debug] [2022-06-27T05:39:53.237Z] [runtime-status] [160350] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Ephemeral server handling GET request"}}
[debug] [2022-06-27T05:39:53.258Z] [runtime-status] [160350] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-06-27T05:39:53.262Z] [worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: IDLE"}}
[debug] [2022-06-27T05:39:53.262Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:40:55.798Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:40:55.798Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:40:55.799Z] Accepted request GET /clone-a18f1/us-central1/api --> us-central1-api
[debug] [2022-06-27T05:40:55.799Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:40:55.799Z] [worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: Assigning socketPath: /tmp/fire_emu_160350.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: Assigning socketPath: /tmp/fire_emu_160350.sock"}}
[debug] [2022-06-27T05:40:55.799Z] [worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: BUSY"}}
[debug] [2022-06-27T05:40:55.801Z] [runtime-status] [160350] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:40:55.802Z] [runtime-status] [160350] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Running api in signature http"}}
[debug] [2022-06-27T05:40:55.802Z] [runtime-status] [160350] Attempting to listen to socketPath: /tmp/fire_emu_160350.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Attempting to listen to socketPath: /tmp/fire_emu_160350.sock"}}
[debug] [2022-06-27T05:40:55.806Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:40:55.806Z] [functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/"}}
[debug] [2022-06-27T05:40:55.810Z] [runtime-status] [160350] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Ephemeral server handling GET request"}}
[debug] [2022-06-27T05:40:55.812Z] [runtime-status] [160350] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-06-27T05:40:55.814Z] [worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: IDLE"}}
[debug] [2022-06-27T05:40:55.814Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:41:15.156Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:41:15.156Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:41:15.157Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=4164 --> us-central1-api
[debug] [2022-06-27T05:41:15.157Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:41:15.157Z] [worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: Assigning socketPath: /tmp/fire_emu_160350.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: Assigning socketPath: /tmp/fire_emu_160350.sock"}}
[debug] [2022-06-27T05:41:15.157Z] [worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: BUSY"}}
[debug] [2022-06-27T05:41:15.159Z] [runtime-status] [160350] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:41:15.160Z] [runtime-status] [160350] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Running api in signature http"}}
[debug] [2022-06-27T05:41:15.161Z] [runtime-status] [160350] Attempting to listen to socketPath: /tmp/fire_emu_160350.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Attempting to listen to socketPath: /tmp/fire_emu_160350.sock"}}
[debug] [2022-06-27T05:41:15.164Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:41:15.164Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=4164, mapping to path=/payments/create?total=4164 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=4164, mapping to path=/payments/create?total=4164"}}
[debug] [2022-06-27T05:41:15.171Z] [runtime-status] [160350] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  4164 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  4164","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  4164"}}
[debug] [2022-06-27T05:41:15.190Z] [runtime-status] [160350] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [160350] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:41:16 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:41:16 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:41:16 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '2d995d80-e850-450d-aeb1-bb407d9b0814', {"user":"      'idempotency-key': '2d995d80-e850-450d-aeb1-bb407d9b0814',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '2d995d80-e850-450d-aeb1-bb407d9b0814',"}}
[info] >        'original-request': 'req_RU71AdNhUyZf61', {"user":"      'original-request': 'req_RU71AdNhUyZf61',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_RU71AdNhUyZf61',"}}
[info] >        'request-id': 'req_RU71AdNhUyZf61', {"user":"      'request-id': 'req_RU71AdNhUyZf61',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_RU71AdNhUyZf61',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_RU71AdNhUyZf61' {"user":"    requestId: 'req_RU71AdNhUyZf61'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_RU71AdNhUyZf61'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:41:16 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:41:16 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:41:16 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '2d995d80-e850-450d-aeb1-bb407d9b0814', {"user":"    'idempotency-key': '2d995d80-e850-450d-aeb1-bb407d9b0814',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '2d995d80-e850-450d-aeb1-bb407d9b0814',"}}
[info] >      'original-request': 'req_RU71AdNhUyZf61', {"user":"    'original-request': 'req_RU71AdNhUyZf61',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_RU71AdNhUyZf61',"}}
[info] >      'request-id': 'req_RU71AdNhUyZf61', {"user":"    'request-id': 'req_RU71AdNhUyZf61',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_RU71AdNhUyZf61',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_RU71AdNhUyZf61', {"user":"  requestId: 'req_RU71AdNhUyZf61',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_RU71AdNhUyZf61',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:41:16.703Z] [worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: exited"}}
[debug] [2022-06-27T05:41:16.703Z] [worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e54c82b-3acb-48b7-b0a3-12743660153e]: FINISHED"}}
[debug] [2022-06-27T05:41:16.703Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:41:42.529Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:41:42.529Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:41:42.529Z] Accepted request GET /clone-a18f1/us-central1/api --> us-central1-api
[debug] [2022-06-27T05:41:42.530Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-06-27T05:41:42.540Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:41:42.541Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:41:42.541Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:41:42.542Z] [worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: Assigning socketPath: /tmp/fire_emu_161935.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: Assigning socketPath: /tmp/fire_emu_161935.sock"}}
[debug] [2022-06-27T05:41:42.542Z] [worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: BUSY"}}
[debug] [2022-06-27T05:41:44.053Z] [runtime-status] [161935] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:41:44.056Z] [runtime-status] [161935] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:41:44.060Z] [runtime-status] [161935] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:41:44.062Z] [runtime-status] [161935] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:41:44.065Z] [runtime-status] [161935] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:41:44.067Z] [runtime-status] [161935] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:41:44.132Z] [runtime-status] [161935] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:41:44.133Z] [runtime-status] [161935] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:41:44.135Z] [runtime-status] [161935] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:41:44.137Z] [runtime-status] [161935] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:41:44.138Z] [runtime-status] [161935] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:41:44.139Z] [runtime-status] [161935] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:41:44.304Z] [runtime-status] [161935] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:41:44.305Z] [runtime-status] [161935] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Running api in signature http"}}
[debug] [2022-06-27T05:41:44.311Z] [runtime-status] [161935] Attempting to listen to socketPath: /tmp/fire_emu_161935.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Attempting to listen to socketPath: /tmp/fire_emu_161935.sock"}}
[debug] [2022-06-27T05:41:44.317Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:41:44.317Z] [functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/"}}
[debug] [2022-06-27T05:41:44.331Z] [runtime-status] [161935] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Ephemeral server handling GET request"}}
[debug] [2022-06-27T05:41:44.351Z] [runtime-status] [161935] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-06-27T05:41:44.356Z] [worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: IDLE"}}
[debug] [2022-06-27T05:41:44.356Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:43:20.601Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:43:20.602Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:43:20.602Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=2776 --> us-central1-api
[debug] [2022-06-27T05:43:20.602Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:43:20.602Z] [worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: Assigning socketPath: /tmp/fire_emu_161935.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: Assigning socketPath: /tmp/fire_emu_161935.sock"}}
[debug] [2022-06-27T05:43:20.602Z] [worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: BUSY"}}
[debug] [2022-06-27T05:43:20.604Z] [runtime-status] [161935] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:43:20.605Z] [runtime-status] [161935] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Running api in signature http"}}
[debug] [2022-06-27T05:43:20.606Z] [runtime-status] [161935] Attempting to listen to socketPath: /tmp/fire_emu_161935.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Attempting to listen to socketPath: /tmp/fire_emu_161935.sock"}}
[debug] [2022-06-27T05:43:20.610Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:43:20.611Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=2776, mapping to path=/payments/create?total=2776 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=2776, mapping to path=/payments/create?total=2776"}}
[debug] [2022-06-27T05:43:20.618Z] [runtime-status] [161935] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  2776 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  2776","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  2776"}}
[debug] [2022-06-27T05:43:20.639Z] [runtime-status] [161935] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [161935] Ephemeral server survived."}}
[debug] [2022-06-27T05:43:25.515Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-06-27T05:43:25.515Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-06-27T05:43:25.515Z] Accepted request GET /clone-a18f1/us-central1/api --> us-central1-api
[debug] [2022-06-27T05:43:25.525Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:43:25.526Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-06-27T05:43:25.526Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:43:25.526Z] [worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: Assigning socketPath: /tmp/fire_emu_163538.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: Assigning socketPath: /tmp/fire_emu_163538.sock"}}
[debug] [2022-06-27T05:43:25.526Z] [worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: BUSY"}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:43:26 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:43:26 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:43:26 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'cf4d8878-b8bb-456c-b880-3b95fa2c6759', {"user":"      'idempotency-key': 'cf4d8878-b8bb-456c-b880-3b95fa2c6759',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'cf4d8878-b8bb-456c-b880-3b95fa2c6759',"}}
[info] >        'original-request': 'req_eSOW06yvQm2MiM', {"user":"      'original-request': 'req_eSOW06yvQm2MiM',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_eSOW06yvQm2MiM',"}}
[info] >        'request-id': 'req_eSOW06yvQm2MiM', {"user":"      'request-id': 'req_eSOW06yvQm2MiM',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_eSOW06yvQm2MiM',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_eSOW06yvQm2MiM' {"user":"    requestId: 'req_eSOW06yvQm2MiM'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_eSOW06yvQm2MiM'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:43:26 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:43:26 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:43:26 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'cf4d8878-b8bb-456c-b880-3b95fa2c6759', {"user":"    'idempotency-key': 'cf4d8878-b8bb-456c-b880-3b95fa2c6759',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'cf4d8878-b8bb-456c-b880-3b95fa2c6759',"}}
[info] >      'original-request': 'req_eSOW06yvQm2MiM', {"user":"    'original-request': 'req_eSOW06yvQm2MiM',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_eSOW06yvQm2MiM',"}}
[info] >      'request-id': 'req_eSOW06yvQm2MiM', {"user":"    'request-id': 'req_eSOW06yvQm2MiM',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_eSOW06yvQm2MiM',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_eSOW06yvQm2MiM', {"user":"  requestId: 'req_eSOW06yvQm2MiM',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_eSOW06yvQm2MiM',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:43:26.603Z] [worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: exited"}}
[debug] [2022-06-27T05:43:26.604Z] [worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-858f1e59-70f4-4b6a-b170-41c105be4bd9]: FINISHED"}}
[debug] [2022-06-27T05:43:26.604Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:43:27.009Z] [runtime-status] [163538] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:43:27.013Z] [runtime-status] [163538] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:43:27.016Z] [runtime-status] [163538] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:43:27.018Z] [runtime-status] [163538] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:43:27.020Z] [runtime-status] [163538] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:43:27.022Z] [runtime-status] [163538] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:43:27.085Z] [runtime-status] [163538] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:43:27.085Z] [runtime-status] [163538] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:43:27.087Z] [runtime-status] [163538] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:43:27.089Z] [runtime-status] [163538] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:43:27.090Z] [runtime-status] [163538] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:43:27.090Z] [runtime-status] [163538] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:43:27.259Z] [runtime-status] [163538] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:43:27.261Z] [runtime-status] [163538] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Running api in signature http"}}
[debug] [2022-06-27T05:43:27.269Z] [runtime-status] [163538] Attempting to listen to socketPath: /tmp/fire_emu_163538.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Attempting to listen to socketPath: /tmp/fire_emu_163538.sock"}}
[debug] [2022-06-27T05:43:27.278Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:43:27.278Z] [functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/"}}
[debug] [2022-06-27T05:43:27.292Z] [runtime-status] [163538] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Ephemeral server handling GET request"}}
[debug] [2022-06-27T05:43:27.312Z] [runtime-status] [163538] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-06-27T05:43:27.317Z] [worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: IDLE"}}
[debug] [2022-06-27T05:43:27.317Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:47:41.457Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:47:41.457Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:47:41.457Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:47:41.457Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2022-06-27T05:47:41.457Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:47:41.457Z] [worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: Assigning socketPath: /tmp/fire_emu_163538.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: Assigning socketPath: /tmp/fire_emu_163538.sock"}}
[debug] [2022-06-27T05:47:41.458Z] [worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: BUSY"}}
[debug] [2022-06-27T05:47:41.458Z] [runtime-status] [163538] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:47:41.458Z] [runtime-status] [163538] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Running api in signature http"}}
[debug] [2022-06-27T05:47:41.459Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-06-27T05:47:41.459Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-06-27T05:47:41.459Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:47:41.468Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:47:41.469Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-06-27T05:47:41.469Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:47:41.469Z] [worker-us-central1-api-64fef470-9aed-4f4e-9049-89f1e6bb2dfa]: Assigning socketPath: /tmp/fire_emu_167101.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-64fef470-9aed-4f4e-9049-89f1e6bb2dfa]: Assigning socketPath: /tmp/fire_emu_167101.sock"}}
[debug] [2022-06-27T05:47:41.469Z] [worker-us-central1-api-64fef470-9aed-4f4e-9049-89f1e6bb2dfa]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-64fef470-9aed-4f4e-9049-89f1e6bb2dfa]: BUSY"}}
[debug] [2022-06-27T05:47:41.470Z] [runtime-status] [163538] Attempting to listen to socketPath: /tmp/fire_emu_163538.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Attempting to listen to socketPath: /tmp/fire_emu_163538.sock"}}
[debug] [2022-06-27T05:47:41.472Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:47:41.472Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:47:41.484Z] [runtime-status] [163538] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:47:41.497Z] [runtime-status] [163538] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [163538] Ephemeral server survived."}}
[debug] [2022-06-27T05:47:42.038Z] [runtime-status] [167101] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:47:42.040Z] [runtime-status] [167101] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:47:42.041Z] [runtime-status] [167101] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:42.042Z] [runtime-status] [167101] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:42.042Z] [runtime-status] [167101] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:47:42.042Z] [runtime-status] [167101] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:42.066Z] [runtime-status] [167101] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:47:42.066Z] [runtime-status] [167101] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:47:42.067Z] [runtime-status] [167101] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:42.068Z] [runtime-status] [167101] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:42.068Z] [runtime-status] [167101] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:42.068Z] [runtime-status] [167101] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:47:42.130Z] [runtime-status] [167101] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:47:42.130Z] [runtime-status] [167101] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Running api in signature http"}}
[debug] [2022-06-27T05:47:42.134Z] [runtime-status] [167101] Attempting to listen to socketPath: /tmp/fire_emu_167101.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Attempting to listen to socketPath: /tmp/fire_emu_167101.sock"}}
[debug] [2022-06-27T05:47:42.136Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:47:42.137Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:47:42.145Z] [runtime-status] [167101] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Ephemeral server handling POST request"}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:47:42 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:47:42 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:47:42 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'ea3f5ed1-9a41-4ea3-a5f7-5032a792b3cf', {"user":"      'idempotency-key': 'ea3f5ed1-9a41-4ea3-a5f7-5032a792b3cf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'ea3f5ed1-9a41-4ea3-a5f7-5032a792b3cf',"}}
[info] >        'original-request': 'req_I05mJdJTmfyKuh', {"user":"      'original-request': 'req_I05mJdJTmfyKuh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_I05mJdJTmfyKuh',"}}
[info] >        'request-id': 'req_I05mJdJTmfyKuh', {"user":"      'request-id': 'req_I05mJdJTmfyKuh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_I05mJdJTmfyKuh',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_I05mJdJTmfyKuh' {"user":"    requestId: 'req_I05mJdJTmfyKuh'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_I05mJdJTmfyKuh'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:47:42 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:47:42 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:47:42 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'ea3f5ed1-9a41-4ea3-a5f7-5032a792b3cf', {"user":"    'idempotency-key': 'ea3f5ed1-9a41-4ea3-a5f7-5032a792b3cf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'ea3f5ed1-9a41-4ea3-a5f7-5032a792b3cf',"}}
[info] >      'original-request': 'req_I05mJdJTmfyKuh', {"user":"    'original-request': 'req_I05mJdJTmfyKuh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_I05mJdJTmfyKuh',"}}
[info] >      'request-id': 'req_I05mJdJTmfyKuh', {"user":"    'request-id': 'req_I05mJdJTmfyKuh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_I05mJdJTmfyKuh',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_I05mJdJTmfyKuh', {"user":"  requestId: 'req_I05mJdJTmfyKuh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_I05mJdJTmfyKuh',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:47:42.178Z] [runtime-status] [167101] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167101] Ephemeral server survived."}}
[debug] [2022-06-27T05:47:42.178Z] [worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: exited"}}
[debug] [2022-06-27T05:47:42.178Z] [worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5d1a7b7e-6603-41ef-b2e5-359bbde4cf20]: FINISHED"}}
[debug] [2022-06-27T05:47:42.179Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:47:42 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:47:42 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:47:42 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '1123dd83-6af1-441e-b69d-1b53891a1cba', {"user":"      'idempotency-key': '1123dd83-6af1-441e-b69d-1b53891a1cba',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '1123dd83-6af1-441e-b69d-1b53891a1cba',"}}
[info] >        'original-request': 'req_EUAQ6sBloPVMTg', {"user":"      'original-request': 'req_EUAQ6sBloPVMTg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_EUAQ6sBloPVMTg',"}}
[info] >        'request-id': 'req_EUAQ6sBloPVMTg', {"user":"      'request-id': 'req_EUAQ6sBloPVMTg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_EUAQ6sBloPVMTg',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_EUAQ6sBloPVMTg' {"user":"    requestId: 'req_EUAQ6sBloPVMTg'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_EUAQ6sBloPVMTg'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:47:42 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:47:42 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:47:42 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '1123dd83-6af1-441e-b69d-1b53891a1cba', {"user":"    'idempotency-key': '1123dd83-6af1-441e-b69d-1b53891a1cba',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '1123dd83-6af1-441e-b69d-1b53891a1cba',"}}
[info] >      'original-request': 'req_EUAQ6sBloPVMTg', {"user":"    'original-request': 'req_EUAQ6sBloPVMTg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_EUAQ6sBloPVMTg',"}}
[info] >      'request-id': 'req_EUAQ6sBloPVMTg', {"user":"    'request-id': 'req_EUAQ6sBloPVMTg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_EUAQ6sBloPVMTg',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_EUAQ6sBloPVMTg', {"user":"  requestId: 'req_EUAQ6sBloPVMTg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_EUAQ6sBloPVMTg',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:47:42.810Z] [worker-us-central1-api-64fef470-9aed-4f4e-9049-89f1e6bb2dfa]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-64fef470-9aed-4f4e-9049-89f1e6bb2dfa]: exited"}}
[debug] [2022-06-27T05:47:42.811Z] [worker-us-central1-api-64fef470-9aed-4f4e-9049-89f1e6bb2dfa]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-64fef470-9aed-4f4e-9049-89f1e6bb2dfa]: FINISHED"}}
[debug] [2022-06-27T05:47:42.811Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:47:55.233Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:47:55.233Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:47:55.233Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:47:55.233Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-06-27T05:47:55.241Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:47:55.241Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:47:55.241Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:47:55.241Z] [worker-us-central1-api-a6917457-fe76-4c62-bdd8-6a499a9d5afb]: Assigning socketPath: /tmp/fire_emu_167352.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a6917457-fe76-4c62-bdd8-6a499a9d5afb]: Assigning socketPath: /tmp/fire_emu_167352.sock"}}
[debug] [2022-06-27T05:47:55.241Z] [worker-us-central1-api-a6917457-fe76-4c62-bdd8-6a499a9d5afb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a6917457-fe76-4c62-bdd8-6a499a9d5afb]: BUSY"}}
[debug] [2022-06-27T05:47:55.243Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-06-27T05:47:55.243Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-06-27T05:47:55.243Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:47:55.249Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:47:55.250Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-06-27T05:47:55.250Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:47:55.250Z] [worker-us-central1-api-220bbd90-8da2-430a-b7e5-f49238569e93]: Assigning socketPath: /tmp/fire_emu_167358.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-220bbd90-8da2-430a-b7e5-f49238569e93]: Assigning socketPath: /tmp/fire_emu_167358.sock"}}
[debug] [2022-06-27T05:47:55.250Z] [worker-us-central1-api-220bbd90-8da2-430a-b7e5-f49238569e93]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-220bbd90-8da2-430a-b7e5-f49238569e93]: BUSY"}}
[debug] [2022-06-27T05:47:55.793Z] [runtime-status] [167352] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:47:55.795Z] [runtime-status] [167352] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:47:55.796Z] [runtime-status] [167352] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:55.797Z] [runtime-status] [167352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:55.797Z] [runtime-status] [167352] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:47:55.798Z] [runtime-status] [167352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:55.819Z] [runtime-status] [167358] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:47:55.820Z] [runtime-status] [167358] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:47:55.822Z] [runtime-status] [167358] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:55.822Z] [runtime-status] [167352] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:47:55.822Z] [runtime-status] [167352] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:47:55.823Z] [runtime-status] [167352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:55.823Z] [runtime-status] [167358] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:55.824Z] [runtime-status] [167358] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:47:55.824Z] [runtime-status] [167358] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:55.824Z] [runtime-status] [167352] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:55.824Z] [runtime-status] [167352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:55.825Z] [runtime-status] [167352] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:47:55.848Z] [runtime-status] [167358] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:47:55.848Z] [runtime-status] [167358] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:47:55.849Z] [runtime-status] [167358] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:55.850Z] [runtime-status] [167358] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:55.851Z] [runtime-status] [167358] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:47:55.851Z] [runtime-status] [167358] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:47:55.883Z] [runtime-status] [167352] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:47:55.884Z] [runtime-status] [167352] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Running api in signature http"}}
[debug] [2022-06-27T05:47:55.885Z] [runtime-status] [167352] Attempting to listen to socketPath: /tmp/fire_emu_167352.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Attempting to listen to socketPath: /tmp/fire_emu_167352.sock"}}
[debug] [2022-06-27T05:47:55.889Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:47:55.889Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:47:55.894Z] [runtime-status] [167352] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:47:55.906Z] [runtime-status] [167352] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167352] Ephemeral server survived."}}
[debug] [2022-06-27T05:47:55.916Z] [runtime-status] [167358] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:47:55.917Z] [runtime-status] [167358] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Running api in signature http"}}
[debug] [2022-06-27T05:47:55.920Z] [runtime-status] [167358] Attempting to listen to socketPath: /tmp/fire_emu_167358.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Attempting to listen to socketPath: /tmp/fire_emu_167358.sock"}}
[debug] [2022-06-27T05:47:55.925Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:47:55.925Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:47:55.930Z] [runtime-status] [167358] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:47:55.940Z] [runtime-status] [167358] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167358] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:47:56 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:47:56 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:47:56 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '415b274d-0314-48e3-9789-184c446dbbd7', {"user":"      'idempotency-key': '415b274d-0314-48e3-9789-184c446dbbd7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '415b274d-0314-48e3-9789-184c446dbbd7',"}}
[info] >        'original-request': 'req_Orr8R4OnUSGi3a', {"user":"      'original-request': 'req_Orr8R4OnUSGi3a',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_Orr8R4OnUSGi3a',"}}
[info] >        'request-id': 'req_Orr8R4OnUSGi3a', {"user":"      'request-id': 'req_Orr8R4OnUSGi3a',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Orr8R4OnUSGi3a',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_Orr8R4OnUSGi3a' {"user":"    requestId: 'req_Orr8R4OnUSGi3a'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Orr8R4OnUSGi3a'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:47:56 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:47:56 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:47:56 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '415b274d-0314-48e3-9789-184c446dbbd7', {"user":"    'idempotency-key': '415b274d-0314-48e3-9789-184c446dbbd7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '415b274d-0314-48e3-9789-184c446dbbd7',"}}
[info] >      'original-request': 'req_Orr8R4OnUSGi3a', {"user":"    'original-request': 'req_Orr8R4OnUSGi3a',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_Orr8R4OnUSGi3a',"}}
[info] >      'request-id': 'req_Orr8R4OnUSGi3a', {"user":"    'request-id': 'req_Orr8R4OnUSGi3a',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Orr8R4OnUSGi3a',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_Orr8R4OnUSGi3a', {"user":"  requestId: 'req_Orr8R4OnUSGi3a',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Orr8R4OnUSGi3a',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:47:56 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:47:56 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:47:56 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'bbc7463b-41e0-4db8-92fe-380fc46e8c71', {"user":"      'idempotency-key': 'bbc7463b-41e0-4db8-92fe-380fc46e8c71',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'bbc7463b-41e0-4db8-92fe-380fc46e8c71',"}}
[info] >        'original-request': 'req_vNM8TbyTVlOcy3', {"user":"      'original-request': 'req_vNM8TbyTVlOcy3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_vNM8TbyTVlOcy3',"}}
[info] >        'request-id': 'req_vNM8TbyTVlOcy3', {"user":"      'request-id': 'req_vNM8TbyTVlOcy3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_vNM8TbyTVlOcy3',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_vNM8TbyTVlOcy3' {"user":"    requestId: 'req_vNM8TbyTVlOcy3'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_vNM8TbyTVlOcy3'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:47:56 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:47:56 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:47:56 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'bbc7463b-41e0-4db8-92fe-380fc46e8c71', {"user":"    'idempotency-key': 'bbc7463b-41e0-4db8-92fe-380fc46e8c71',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'bbc7463b-41e0-4db8-92fe-380fc46e8c71',"}}
[info] >      'original-request': 'req_vNM8TbyTVlOcy3', {"user":"    'original-request': 'req_vNM8TbyTVlOcy3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_vNM8TbyTVlOcy3',"}}
[info] >      'request-id': 'req_vNM8TbyTVlOcy3', {"user":"    'request-id': 'req_vNM8TbyTVlOcy3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_vNM8TbyTVlOcy3',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_vNM8TbyTVlOcy3', {"user":"  requestId: 'req_vNM8TbyTVlOcy3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_vNM8TbyTVlOcy3',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:47:56.472Z] [worker-us-central1-api-a6917457-fe76-4c62-bdd8-6a499a9d5afb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a6917457-fe76-4c62-bdd8-6a499a9d5afb]: exited"}}
[debug] [2022-06-27T05:47:56.472Z] [worker-us-central1-api-a6917457-fe76-4c62-bdd8-6a499a9d5afb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a6917457-fe76-4c62-bdd8-6a499a9d5afb]: FINISHED"}}
[debug] [2022-06-27T05:47:56.472Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:47:56.472Z] [worker-us-central1-api-220bbd90-8da2-430a-b7e5-f49238569e93]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-220bbd90-8da2-430a-b7e5-f49238569e93]: exited"}}
[debug] [2022-06-27T05:47:56.472Z] [worker-us-central1-api-220bbd90-8da2-430a-b7e5-f49238569e93]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-220bbd90-8da2-430a-b7e5-f49238569e93]: FINISHED"}}
[debug] [2022-06-27T05:47:56.472Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:48:01.953Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:48:01.953Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:48:01.953Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:48:01.953Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-06-27T05:48:01.963Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:48:01.963Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:48:01.963Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:48:01.964Z] [worker-us-central1-api-4f60bd6b-f253-4eca-b122-e2e46b7a545c]: Assigning socketPath: /tmp/fire_emu_167493.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4f60bd6b-f253-4eca-b122-e2e46b7a545c]: Assigning socketPath: /tmp/fire_emu_167493.sock"}}
[debug] [2022-06-27T05:48:01.964Z] [worker-us-central1-api-4f60bd6b-f253-4eca-b122-e2e46b7a545c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4f60bd6b-f253-4eca-b122-e2e46b7a545c]: BUSY"}}
[debug] [2022-06-27T05:48:01.965Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-06-27T05:48:01.965Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-06-27T05:48:01.965Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:48:01.973Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:48:01.974Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-06-27T05:48:01.974Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:48:01.974Z] [worker-us-central1-api-f9c6ee13-5e9b-4447-89e6-696c13b0d9b5]: Assigning socketPath: /tmp/fire_emu_167499.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f9c6ee13-5e9b-4447-89e6-696c13b0d9b5]: Assigning socketPath: /tmp/fire_emu_167499.sock"}}
[debug] [2022-06-27T05:48:01.974Z] [worker-us-central1-api-f9c6ee13-5e9b-4447-89e6-696c13b0d9b5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f9c6ee13-5e9b-4447-89e6-696c13b0d9b5]: BUSY"}}
[debug] [2022-06-27T05:48:02.576Z] [runtime-status] [167493] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:48:02.578Z] [runtime-status] [167493] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:48:02.579Z] [runtime-status] [167493] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:02.580Z] [runtime-status] [167499] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:48:02.581Z] [runtime-status] [167493] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:02.582Z] [runtime-status] [167499] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:48:02.582Z] [runtime-status] [167493] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:48:02.582Z] [runtime-status] [167493] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:02.583Z] [runtime-status] [167499] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:02.584Z] [runtime-status] [167499] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:02.585Z] [runtime-status] [167499] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:48:02.586Z] [runtime-status] [167499] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:02.606Z] [runtime-status] [167493] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:48:02.606Z] [runtime-status] [167493] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:48:02.608Z] [runtime-status] [167493] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:02.609Z] [runtime-status] [167493] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:02.609Z] [runtime-status] [167493] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:02.609Z] [runtime-status] [167493] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:48:02.612Z] [runtime-status] [167499] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:48:02.612Z] [runtime-status] [167499] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:48:02.613Z] [runtime-status] [167499] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:02.614Z] [runtime-status] [167499] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:02.615Z] [runtime-status] [167499] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:02.615Z] [runtime-status] [167499] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:48:02.671Z] [runtime-status] [167493] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:48:02.671Z] [runtime-status] [167493] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Running api in signature http"}}
[debug] [2022-06-27T05:48:02.674Z] [runtime-status] [167493] Attempting to listen to socketPath: /tmp/fire_emu_167493.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Attempting to listen to socketPath: /tmp/fire_emu_167493.sock"}}
[debug] [2022-06-27T05:48:02.677Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:48:02.678Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:48:02.680Z] [runtime-status] [167499] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:48:02.680Z] [runtime-status] [167499] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Running api in signature http"}}
[debug] [2022-06-27T05:48:02.683Z] [runtime-status] [167499] Attempting to listen to socketPath: /tmp/fire_emu_167499.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Attempting to listen to socketPath: /tmp/fire_emu_167499.sock"}}
[debug] [2022-06-27T05:48:02.684Z] [runtime-status] [167493] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Ephemeral server handling POST request"}}
[debug] [2022-06-27T05:48:02.686Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:48:02.686Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:48:02.690Z] [runtime-status] [167499] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:48:02.699Z] [runtime-status] [167493] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167493] Ephemeral server survived."}}
[debug] [2022-06-27T05:48:02.702Z] [runtime-status] [167499] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167499] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:48:03 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:48:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:48:03 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '146960f9-b890-4a80-b539-c9ebbcf46573', {"user":"      'idempotency-key': '146960f9-b890-4a80-b539-c9ebbcf46573',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '146960f9-b890-4a80-b539-c9ebbcf46573',"}}
[info] >        'original-request': 'req_abG0hwIkCJJ4Ra', {"user":"      'original-request': 'req_abG0hwIkCJJ4Ra',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_abG0hwIkCJJ4Ra',"}}
[info] >        'request-id': 'req_abG0hwIkCJJ4Ra', {"user":"      'request-id': 'req_abG0hwIkCJJ4Ra',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_abG0hwIkCJJ4Ra',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_abG0hwIkCJJ4Ra' {"user":"    requestId: 'req_abG0hwIkCJJ4Ra'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_abG0hwIkCJJ4Ra'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:48:03 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:48:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:48:03 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '146960f9-b890-4a80-b539-c9ebbcf46573', {"user":"    'idempotency-key': '146960f9-b890-4a80-b539-c9ebbcf46573',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '146960f9-b890-4a80-b539-c9ebbcf46573',"}}
[info] >      'original-request': 'req_abG0hwIkCJJ4Ra', {"user":"    'original-request': 'req_abG0hwIkCJJ4Ra',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_abG0hwIkCJJ4Ra',"}}
[info] >      'request-id': 'req_abG0hwIkCJJ4Ra', {"user":"    'request-id': 'req_abG0hwIkCJJ4Ra',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_abG0hwIkCJJ4Ra',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_abG0hwIkCJJ4Ra', {"user":"  requestId: 'req_abG0hwIkCJJ4Ra',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_abG0hwIkCJJ4Ra',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:48:03.296Z] [worker-us-central1-api-f9c6ee13-5e9b-4447-89e6-696c13b0d9b5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f9c6ee13-5e9b-4447-89e6-696c13b0d9b5]: exited"}}
[debug] [2022-06-27T05:48:03.296Z] [worker-us-central1-api-f9c6ee13-5e9b-4447-89e6-696c13b0d9b5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f9c6ee13-5e9b-4447-89e6-696c13b0d9b5]: FINISHED"}}
[debug] [2022-06-27T05:48:03.296Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:48:03 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:48:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:48:03 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '38bb68a3-3440-4609-a39e-05c588f5e982', {"user":"      'idempotency-key': '38bb68a3-3440-4609-a39e-05c588f5e982',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '38bb68a3-3440-4609-a39e-05c588f5e982',"}}
[info] >        'original-request': 'req_6cLPrB9e22svaZ', {"user":"      'original-request': 'req_6cLPrB9e22svaZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_6cLPrB9e22svaZ',"}}
[info] >        'request-id': 'req_6cLPrB9e22svaZ', {"user":"      'request-id': 'req_6cLPrB9e22svaZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_6cLPrB9e22svaZ',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_6cLPrB9e22svaZ' {"user":"    requestId: 'req_6cLPrB9e22svaZ'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_6cLPrB9e22svaZ'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:48:03 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:48:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:48:03 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '38bb68a3-3440-4609-a39e-05c588f5e982', {"user":"    'idempotency-key': '38bb68a3-3440-4609-a39e-05c588f5e982',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '38bb68a3-3440-4609-a39e-05c588f5e982',"}}
[info] >      'original-request': 'req_6cLPrB9e22svaZ', {"user":"    'original-request': 'req_6cLPrB9e22svaZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_6cLPrB9e22svaZ',"}}
[info] >      'request-id': 'req_6cLPrB9e22svaZ', {"user":"    'request-id': 'req_6cLPrB9e22svaZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_6cLPrB9e22svaZ',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_6cLPrB9e22svaZ', {"user":"  requestId: 'req_6cLPrB9e22svaZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_6cLPrB9e22svaZ',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:48:03.320Z] [worker-us-central1-api-4f60bd6b-f253-4eca-b122-e2e46b7a545c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4f60bd6b-f253-4eca-b122-e2e46b7a545c]: exited"}}
[debug] [2022-06-27T05:48:03.321Z] [worker-us-central1-api-4f60bd6b-f253-4eca-b122-e2e46b7a545c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4f60bd6b-f253-4eca-b122-e2e46b7a545c]: FINISHED"}}
[debug] [2022-06-27T05:48:03.321Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:48:04.361Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:48:04.361Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:48:04.361Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:48:04.361Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-06-27T05:48:04.369Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:48:04.369Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:48:04.369Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:48:04.369Z] [worker-us-central1-api-b96c276a-f222-401a-a0a7-edae599e1955]: Assigning socketPath: /tmp/fire_emu_167549.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b96c276a-f222-401a-a0a7-edae599e1955]: Assigning socketPath: /tmp/fire_emu_167549.sock"}}
[debug] [2022-06-27T05:48:04.370Z] [worker-us-central1-api-b96c276a-f222-401a-a0a7-edae599e1955]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b96c276a-f222-401a-a0a7-edae599e1955]: BUSY"}}
[debug] [2022-06-27T05:48:04.370Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-06-27T05:48:04.371Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-06-27T05:48:04.371Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:48:04.382Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:48:04.382Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-06-27T05:48:04.382Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:48:04.382Z] [worker-us-central1-api-97a18a2f-955f-42ac-82a0-918f0d5f9140]: Assigning socketPath: /tmp/fire_emu_167555.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-97a18a2f-955f-42ac-82a0-918f0d5f9140]: Assigning socketPath: /tmp/fire_emu_167555.sock"}}
[debug] [2022-06-27T05:48:04.382Z] [worker-us-central1-api-97a18a2f-955f-42ac-82a0-918f0d5f9140]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-97a18a2f-955f-42ac-82a0-918f0d5f9140]: BUSY"}}
[debug] [2022-06-27T05:48:04.956Z] [runtime-status] [167549] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:48:04.957Z] [runtime-status] [167549] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:48:04.958Z] [runtime-status] [167549] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:04.959Z] [runtime-status] [167549] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:04.959Z] [runtime-status] [167549] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:48:04.960Z] [runtime-status] [167549] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:04.967Z] [runtime-status] [167555] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:48:04.968Z] [runtime-status] [167555] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:48:04.970Z] [runtime-status] [167555] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:04.970Z] [runtime-status] [167555] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:04.971Z] [runtime-status] [167555] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:48:04.972Z] [runtime-status] [167555] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:04.984Z] [runtime-status] [167549] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:48:04.984Z] [runtime-status] [167549] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:48:04.985Z] [runtime-status] [167549] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:04.985Z] [runtime-status] [167549] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:04.986Z] [runtime-status] [167549] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:04.986Z] [runtime-status] [167549] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:48:04.995Z] [runtime-status] [167555] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:48:04.995Z] [runtime-status] [167555] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:48:04.996Z] [runtime-status] [167555] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:04.997Z] [runtime-status] [167555] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:04.997Z] [runtime-status] [167555] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:04.997Z] [runtime-status] [167555] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:48:05.049Z] [runtime-status] [167549] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:48:05.049Z] [runtime-status] [167549] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Running api in signature http"}}
[debug] [2022-06-27T05:48:05.051Z] [runtime-status] [167549] Attempting to listen to socketPath: /tmp/fire_emu_167549.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Attempting to listen to socketPath: /tmp/fire_emu_167549.sock"}}
[debug] [2022-06-27T05:48:05.054Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:48:05.054Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:48:05.059Z] [runtime-status] [167549] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:48:05.064Z] [runtime-status] [167555] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:48:05.066Z] [runtime-status] [167555] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Running api in signature http"}}
[debug] [2022-06-27T05:48:05.067Z] [runtime-status] [167555] Attempting to listen to socketPath: /tmp/fire_emu_167555.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Attempting to listen to socketPath: /tmp/fire_emu_167555.sock"}}
[debug] [2022-06-27T05:48:05.070Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:48:05.070Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:48:05.074Z] [runtime-status] [167549] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167549] Ephemeral server survived."}}
[debug] [2022-06-27T05:48:05.078Z] [runtime-status] [167555] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:48:05.090Z] [runtime-status] [167555] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167555] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:48:05 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:48:05 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:48:05 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'c39ceb7d-f845-4fc4-a048-81f5116b71b0', {"user":"      'idempotency-key': 'c39ceb7d-f845-4fc4-a048-81f5116b71b0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'c39ceb7d-f845-4fc4-a048-81f5116b71b0',"}}
[info] >        'original-request': 'req_mEmWUULr82GuAx', {"user":"      'original-request': 'req_mEmWUULr82GuAx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_mEmWUULr82GuAx',"}}
[info] >        'request-id': 'req_mEmWUULr82GuAx', {"user":"      'request-id': 'req_mEmWUULr82GuAx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_mEmWUULr82GuAx',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_mEmWUULr82GuAx' {"user":"    requestId: 'req_mEmWUULr82GuAx'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_mEmWUULr82GuAx'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:48:05 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:48:05 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:48:05 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'c39ceb7d-f845-4fc4-a048-81f5116b71b0', {"user":"    'idempotency-key': 'c39ceb7d-f845-4fc4-a048-81f5116b71b0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'c39ceb7d-f845-4fc4-a048-81f5116b71b0',"}}
[info] >      'original-request': 'req_mEmWUULr82GuAx', {"user":"    'original-request': 'req_mEmWUULr82GuAx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_mEmWUULr82GuAx',"}}
[info] >      'request-id': 'req_mEmWUULr82GuAx', {"user":"    'request-id': 'req_mEmWUULr82GuAx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_mEmWUULr82GuAx',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_mEmWUULr82GuAx', {"user":"  requestId: 'req_mEmWUULr82GuAx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_mEmWUULr82GuAx',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:48:05 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:48:05 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:48:05 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '814f262d-6cc3-4ce5-9e5c-4db2d89c6d2f', {"user":"      'idempotency-key': '814f262d-6cc3-4ce5-9e5c-4db2d89c6d2f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '814f262d-6cc3-4ce5-9e5c-4db2d89c6d2f',"}}
[info] >        'original-request': 'req_JeYFqCgnVVIB7u', {"user":"      'original-request': 'req_JeYFqCgnVVIB7u',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_JeYFqCgnVVIB7u',"}}
[info] >        'request-id': 'req_JeYFqCgnVVIB7u', {"user":"      'request-id': 'req_JeYFqCgnVVIB7u',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_JeYFqCgnVVIB7u',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_JeYFqCgnVVIB7u' {"user":"    requestId: 'req_JeYFqCgnVVIB7u'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_JeYFqCgnVVIB7u'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:48:05 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:48:05 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:48:05 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '814f262d-6cc3-4ce5-9e5c-4db2d89c6d2f', {"user":"    'idempotency-key': '814f262d-6cc3-4ce5-9e5c-4db2d89c6d2f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '814f262d-6cc3-4ce5-9e5c-4db2d89c6d2f',"}}
[info] >      'original-request': 'req_JeYFqCgnVVIB7u', {"user":"    'original-request': 'req_JeYFqCgnVVIB7u',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_JeYFqCgnVVIB7u',"}}
[info] >      'request-id': 'req_JeYFqCgnVVIB7u', {"user":"    'request-id': 'req_JeYFqCgnVVIB7u',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_JeYFqCgnVVIB7u',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_JeYFqCgnVVIB7u', {"user":"  requestId: 'req_JeYFqCgnVVIB7u',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_JeYFqCgnVVIB7u',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:48:05.665Z] [worker-us-central1-api-b96c276a-f222-401a-a0a7-edae599e1955]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b96c276a-f222-401a-a0a7-edae599e1955]: exited"}}
[debug] [2022-06-27T05:48:05.665Z] [worker-us-central1-api-b96c276a-f222-401a-a0a7-edae599e1955]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b96c276a-f222-401a-a0a7-edae599e1955]: FINISHED"}}
[debug] [2022-06-27T05:48:05.665Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:48:05.665Z] [worker-us-central1-api-97a18a2f-955f-42ac-82a0-918f0d5f9140]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-97a18a2f-955f-42ac-82a0-918f0d5f9140]: exited"}}
[debug] [2022-06-27T05:48:05.665Z] [worker-us-central1-api-97a18a2f-955f-42ac-82a0-918f0d5f9140]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-97a18a2f-955f-42ac-82a0-918f0d5f9140]: FINISHED"}}
[debug] [2022-06-27T05:48:05.665Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:48:05.817Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:48:05.818Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:48:05.818Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:48:05.818Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-06-27T05:48:05.824Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:48:05.824Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:48:05.824Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:48:05.824Z] [worker-us-central1-api-66d85a4e-4fb4-425e-85e7-e36793874200]: Assigning socketPath: /tmp/fire_emu_167606.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-66d85a4e-4fb4-425e-85e7-e36793874200]: Assigning socketPath: /tmp/fire_emu_167606.sock"}}
[debug] [2022-06-27T05:48:05.824Z] [worker-us-central1-api-66d85a4e-4fb4-425e-85e7-e36793874200]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-66d85a4e-4fb4-425e-85e7-e36793874200]: BUSY"}}
[debug] [2022-06-27T05:48:05.825Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-06-27T05:48:05.825Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-06-27T05:48:05.825Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:48:05.834Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:48:05.834Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-06-27T05:48:05.834Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:48:05.835Z] [worker-us-central1-api-52a1a4ec-9e32-4fa7-83c6-0ae4a10e6c3f]: Assigning socketPath: /tmp/fire_emu_167612.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-52a1a4ec-9e32-4fa7-83c6-0ae4a10e6c3f]: Assigning socketPath: /tmp/fire_emu_167612.sock"}}
[debug] [2022-06-27T05:48:05.835Z] [worker-us-central1-api-52a1a4ec-9e32-4fa7-83c6-0ae4a10e6c3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-52a1a4ec-9e32-4fa7-83c6-0ae4a10e6c3f]: BUSY"}}
[debug] [2022-06-27T05:48:06.464Z] [runtime-status] [167606] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:48:06.465Z] [runtime-status] [167606] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:48:06.466Z] [runtime-status] [167606] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:06.467Z] [runtime-status] [167606] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:06.468Z] [runtime-status] [167606] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:48:06.468Z] [runtime-status] [167606] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:06.490Z] [runtime-status] [167612] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:48:06.491Z] [runtime-status] [167612] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:48:06.492Z] [runtime-status] [167606] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:48:06.493Z] [runtime-status] [167606] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:48:06.493Z] [runtime-status] [167612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:06.494Z] [runtime-status] [167606] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:06.494Z] [runtime-status] [167612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:06.494Z] [runtime-status] [167606] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:06.495Z] [runtime-status] [167606] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:06.495Z] [runtime-status] [167606] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:48:06.495Z] [runtime-status] [167612] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:48:06.495Z] [runtime-status] [167612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:06.518Z] [runtime-status] [167612] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:48:06.519Z] [runtime-status] [167612] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:48:06.520Z] [runtime-status] [167612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:06.521Z] [runtime-status] [167612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:06.523Z] [runtime-status] [167612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:48:06.523Z] [runtime-status] [167612] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:48:06.554Z] [runtime-status] [167606] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:48:06.555Z] [runtime-status] [167606] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Running api in signature http"}}
[debug] [2022-06-27T05:48:06.557Z] [runtime-status] [167606] Attempting to listen to socketPath: /tmp/fire_emu_167606.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Attempting to listen to socketPath: /tmp/fire_emu_167606.sock"}}
[debug] [2022-06-27T05:48:06.560Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:48:06.561Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:48:06.567Z] [runtime-status] [167606] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:48:06.578Z] [runtime-status] [167606] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167606] Ephemeral server survived."}}
[debug] [2022-06-27T05:48:06.602Z] [runtime-status] [167612] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:48:06.602Z] [runtime-status] [167612] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Running api in signature http"}}
[debug] [2022-06-27T05:48:06.606Z] [runtime-status] [167612] Attempting to listen to socketPath: /tmp/fire_emu_167612.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Attempting to listen to socketPath: /tmp/fire_emu_167612.sock"}}
[debug] [2022-06-27T05:48:06.609Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:48:06.609Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:48:06.615Z] [runtime-status] [167612] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:48:06.626Z] [runtime-status] [167612] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [167612] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:48:07 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:48:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:48:07 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '63e701e7-92a8-459b-b14f-c3fc28881cb7', {"user":"      'idempotency-key': '63e701e7-92a8-459b-b14f-c3fc28881cb7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '63e701e7-92a8-459b-b14f-c3fc28881cb7',"}}
[info] >        'original-request': 'req_pF8EdogFqMUFry', {"user":"      'original-request': 'req_pF8EdogFqMUFry',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_pF8EdogFqMUFry',"}}
[info] >        'request-id': 'req_pF8EdogFqMUFry', {"user":"      'request-id': 'req_pF8EdogFqMUFry',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_pF8EdogFqMUFry',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_pF8EdogFqMUFry' {"user":"    requestId: 'req_pF8EdogFqMUFry'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_pF8EdogFqMUFry'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:48:07 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:48:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:48:07 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '63e701e7-92a8-459b-b14f-c3fc28881cb7', {"user":"    'idempotency-key': '63e701e7-92a8-459b-b14f-c3fc28881cb7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '63e701e7-92a8-459b-b14f-c3fc28881cb7',"}}
[info] >      'original-request': 'req_pF8EdogFqMUFry', {"user":"    'original-request': 'req_pF8EdogFqMUFry',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_pF8EdogFqMUFry',"}}
[info] >      'request-id': 'req_pF8EdogFqMUFry', {"user":"    'request-id': 'req_pF8EdogFqMUFry',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_pF8EdogFqMUFry',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_pF8EdogFqMUFry', {"user":"  requestId: 'req_pF8EdogFqMUFry',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_pF8EdogFqMUFry',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:48:07.127Z] [worker-us-central1-api-66d85a4e-4fb4-425e-85e7-e36793874200]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-66d85a4e-4fb4-425e-85e7-e36793874200]: exited"}}
[debug] [2022-06-27T05:48:07.127Z] [worker-us-central1-api-66d85a4e-4fb4-425e-85e7-e36793874200]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-66d85a4e-4fb4-425e-85e7-e36793874200]: FINISHED"}}
[debug] [2022-06-27T05:48:07.127Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:48:07 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:48:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:48:07 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'f66c598b-b25d-403f-9930-230d5460f1d9', {"user":"      'idempotency-key': 'f66c598b-b25d-403f-9930-230d5460f1d9',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'f66c598b-b25d-403f-9930-230d5460f1d9',"}}
[info] >        'original-request': 'req_bxlQmpeHXjA0IW', {"user":"      'original-request': 'req_bxlQmpeHXjA0IW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_bxlQmpeHXjA0IW',"}}
[info] >        'request-id': 'req_bxlQmpeHXjA0IW', {"user":"      'request-id': 'req_bxlQmpeHXjA0IW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_bxlQmpeHXjA0IW',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_bxlQmpeHXjA0IW' {"user":"    requestId: 'req_bxlQmpeHXjA0IW'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_bxlQmpeHXjA0IW'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:48:07 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:48:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:48:07 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'f66c598b-b25d-403f-9930-230d5460f1d9', {"user":"    'idempotency-key': 'f66c598b-b25d-403f-9930-230d5460f1d9',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'f66c598b-b25d-403f-9930-230d5460f1d9',"}}
[info] >      'original-request': 'req_bxlQmpeHXjA0IW', {"user":"    'original-request': 'req_bxlQmpeHXjA0IW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_bxlQmpeHXjA0IW',"}}
[info] >      'request-id': 'req_bxlQmpeHXjA0IW', {"user":"    'request-id': 'req_bxlQmpeHXjA0IW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_bxlQmpeHXjA0IW',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_bxlQmpeHXjA0IW', {"user":"  requestId: 'req_bxlQmpeHXjA0IW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_bxlQmpeHXjA0IW',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:48:07.168Z] [worker-us-central1-api-52a1a4ec-9e32-4fa7-83c6-0ae4a10e6c3f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-52a1a4ec-9e32-4fa7-83c6-0ae4a10e6c3f]: exited"}}
[debug] [2022-06-27T05:48:07.168Z] [worker-us-central1-api-52a1a4ec-9e32-4fa7-83c6-0ae4a10e6c3f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-52a1a4ec-9e32-4fa7-83c6-0ae4a10e6c3f]: FINISHED"}}
[debug] [2022-06-27T05:48:07.168Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:50:29.646Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:50:29.646Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:50:29.646Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:50:29.646Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-06-27T05:50:29.658Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:50:29.659Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:50:29.659Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:50:29.659Z] [worker-us-central1-api-d6356f32-3af9-4ae7-9083-b3799a19e01c]: Assigning socketPath: /tmp/fire_emu_169791.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d6356f32-3af9-4ae7-9083-b3799a19e01c]: Assigning socketPath: /tmp/fire_emu_169791.sock"}}
[debug] [2022-06-27T05:50:29.659Z] [worker-us-central1-api-d6356f32-3af9-4ae7-9083-b3799a19e01c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d6356f32-3af9-4ae7-9083-b3799a19e01c]: BUSY"}}
[debug] [2022-06-27T05:50:31.426Z] [runtime-status] [169791] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:50:31.429Z] [runtime-status] [169791] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:50:31.433Z] [runtime-status] [169791] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:31.436Z] [runtime-status] [169791] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:31.438Z] [runtime-status] [169791] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:50:31.441Z] [runtime-status] [169791] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:31.502Z] [runtime-status] [169791] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:50:31.503Z] [runtime-status] [169791] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:50:31.507Z] [runtime-status] [169791] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:31.508Z] [runtime-status] [169791] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:31.509Z] [runtime-status] [169791] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:31.509Z] [runtime-status] [169791] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:50:31.631Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-06-27T05:50:31.631Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-06-27T05:50:31.631Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:50:31.648Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:50:31.649Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-06-27T05:50:31.649Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:50:31.649Z] [worker-us-central1-api-a9c35642-bb23-41aa-aa44-c8ce436d617f]: Assigning socketPath: /tmp/fire_emu_169830.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a9c35642-bb23-41aa-aa44-c8ce436d617f]: Assigning socketPath: /tmp/fire_emu_169830.sock"}}
[debug] [2022-06-27T05:50:31.650Z] [worker-us-central1-api-a9c35642-bb23-41aa-aa44-c8ce436d617f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a9c35642-bb23-41aa-aa44-c8ce436d617f]: BUSY"}}
[debug] [2022-06-27T05:50:31.715Z] [runtime-status] [169791] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:50:31.719Z] [runtime-status] [169791] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Running api in signature http"}}
[debug] [2022-06-27T05:50:31.724Z] [runtime-status] [169791] Attempting to listen to socketPath: /tmp/fire_emu_169791.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Attempting to listen to socketPath: /tmp/fire_emu_169791.sock"}}
[debug] [2022-06-27T05:50:31.733Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:50:31.734Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:50:31.750Z] [runtime-status] [169791] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:50:31.782Z] [runtime-status] [169791] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169791] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:50:33 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:50:33 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:50:33 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'cabdfcd2-f78b-42cf-842f-6d991c5b5b8e', {"user":"      'idempotency-key': 'cabdfcd2-f78b-42cf-842f-6d991c5b5b8e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'cabdfcd2-f78b-42cf-842f-6d991c5b5b8e',"}}
[info] >        'original-request': 'req_6iG6377kt5B1Tj', {"user":"      'original-request': 'req_6iG6377kt5B1Tj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_6iG6377kt5B1Tj',"}}
[info] >        'request-id': 'req_6iG6377kt5B1Tj', {"user":"      'request-id': 'req_6iG6377kt5B1Tj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_6iG6377kt5B1Tj',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_6iG6377kt5B1Tj' {"user":"    requestId: 'req_6iG6377kt5B1Tj'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_6iG6377kt5B1Tj'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:50:33 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:50:33 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:50:33 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'cabdfcd2-f78b-42cf-842f-6d991c5b5b8e', {"user":"    'idempotency-key': 'cabdfcd2-f78b-42cf-842f-6d991c5b5b8e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'cabdfcd2-f78b-42cf-842f-6d991c5b5b8e',"}}
[info] >      'original-request': 'req_6iG6377kt5B1Tj', {"user":"    'original-request': 'req_6iG6377kt5B1Tj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_6iG6377kt5B1Tj',"}}
[info] >      'request-id': 'req_6iG6377kt5B1Tj', {"user":"    'request-id': 'req_6iG6377kt5B1Tj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_6iG6377kt5B1Tj',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_6iG6377kt5B1Tj', {"user":"  requestId: 'req_6iG6377kt5B1Tj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_6iG6377kt5B1Tj',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:50:33.256Z] [runtime-status] [169830] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:50:33.257Z] [worker-us-central1-api-d6356f32-3af9-4ae7-9083-b3799a19e01c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d6356f32-3af9-4ae7-9083-b3799a19e01c]: exited"}}
[debug] [2022-06-27T05:50:33.257Z] [worker-us-central1-api-d6356f32-3af9-4ae7-9083-b3799a19e01c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d6356f32-3af9-4ae7-9083-b3799a19e01c]: FINISHED"}}
[debug] [2022-06-27T05:50:33.257Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:50:33.258Z] [runtime-status] [169830] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:50:33.263Z] [runtime-status] [169830] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:33.266Z] [runtime-status] [169830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:33.267Z] [runtime-status] [169830] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:50:33.271Z] [runtime-status] [169830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:33.339Z] [runtime-status] [169830] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:50:33.339Z] [runtime-status] [169830] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:50:33.342Z] [runtime-status] [169830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:33.344Z] [runtime-status] [169830] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:33.346Z] [runtime-status] [169830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:33.346Z] [runtime-status] [169830] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:50:33.516Z] [runtime-status] [169830] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:50:33.518Z] [runtime-status] [169830] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Running api in signature http"}}
[debug] [2022-06-27T05:50:33.525Z] [runtime-status] [169830] Attempting to listen to socketPath: /tmp/fire_emu_169830.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Attempting to listen to socketPath: /tmp/fire_emu_169830.sock"}}
[debug] [2022-06-27T05:50:33.531Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:50:33.531Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:50:33.543Z] [runtime-status] [169830] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:50:33.568Z] [runtime-status] [169830] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [169830] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:50:34 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:50:34 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:50:34 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'cf089ecf-0841-4c7b-89fa-b7fb7c9cf8dc', {"user":"      'idempotency-key': 'cf089ecf-0841-4c7b-89fa-b7fb7c9cf8dc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'cf089ecf-0841-4c7b-89fa-b7fb7c9cf8dc',"}}
[info] >        'original-request': 'req_jPPzA3y19trC44', {"user":"      'original-request': 'req_jPPzA3y19trC44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_jPPzA3y19trC44',"}}
[info] >        'request-id': 'req_jPPzA3y19trC44', {"user":"      'request-id': 'req_jPPzA3y19trC44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_jPPzA3y19trC44',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_jPPzA3y19trC44' {"user":"    requestId: 'req_jPPzA3y19trC44'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_jPPzA3y19trC44'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:50:34 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:50:34 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:50:34 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'cf089ecf-0841-4c7b-89fa-b7fb7c9cf8dc', {"user":"    'idempotency-key': 'cf089ecf-0841-4c7b-89fa-b7fb7c9cf8dc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'cf089ecf-0841-4c7b-89fa-b7fb7c9cf8dc',"}}
[info] >      'original-request': 'req_jPPzA3y19trC44', {"user":"    'original-request': 'req_jPPzA3y19trC44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_jPPzA3y19trC44',"}}
[info] >      'request-id': 'req_jPPzA3y19trC44', {"user":"    'request-id': 'req_jPPzA3y19trC44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_jPPzA3y19trC44',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_jPPzA3y19trC44', {"user":"  requestId: 'req_jPPzA3y19trC44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_jPPzA3y19trC44',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:50:34.274Z] [worker-us-central1-api-a9c35642-bb23-41aa-aa44-c8ce436d617f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a9c35642-bb23-41aa-aa44-c8ce436d617f]: exited"}}
[debug] [2022-06-27T05:50:34.274Z] [worker-us-central1-api-a9c35642-bb23-41aa-aa44-c8ce436d617f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a9c35642-bb23-41aa-aa44-c8ce436d617f]: FINISHED"}}
[debug] [2022-06-27T05:50:34.274Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:50:46.930Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:50:46.930Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:50:46.930Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:50:46.931Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-06-27T05:50:46.943Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:50:46.944Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:50:46.944Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:50:46.944Z] [worker-us-central1-api-9c4a74af-36d6-4fd2-8c58-134271e212f7]: Assigning socketPath: /tmp/fire_emu_170077.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9c4a74af-36d6-4fd2-8c58-134271e212f7]: Assigning socketPath: /tmp/fire_emu_170077.sock"}}
[debug] [2022-06-27T05:50:46.944Z] [worker-us-central1-api-9c4a74af-36d6-4fd2-8c58-134271e212f7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9c4a74af-36d6-4fd2-8c58-134271e212f7]: BUSY"}}
[debug] [2022-06-27T05:50:48.483Z] [runtime-status] [170077] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:50:48.486Z] [runtime-status] [170077] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:50:48.489Z] [runtime-status] [170077] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:48.499Z] [runtime-status] [170077] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:48.500Z] [runtime-status] [170077] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:50:48.500Z] [runtime-status] [170077] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:48.583Z] [runtime-status] [170077] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:50:48.583Z] [runtime-status] [170077] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:50:48.586Z] [runtime-status] [170077] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:48.592Z] [runtime-status] [170077] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:48.593Z] [runtime-status] [170077] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:48.593Z] [runtime-status] [170077] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:50:48.790Z] [runtime-status] [170077] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:50:48.792Z] [runtime-status] [170077] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Running api in signature http"}}
[debug] [2022-06-27T05:50:48.801Z] [runtime-status] [170077] Attempting to listen to socketPath: /tmp/fire_emu_170077.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Attempting to listen to socketPath: /tmp/fire_emu_170077.sock"}}
[debug] [2022-06-27T05:50:48.809Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:50:48.809Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:50:48.825Z] [runtime-status] [170077] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:50:48.854Z] [runtime-status] [170077] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170077] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:50:49 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:50:49 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:50:49 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '51f57e40-1d5b-4266-bd37-9736cea0f9be', {"user":"      'idempotency-key': '51f57e40-1d5b-4266-bd37-9736cea0f9be',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '51f57e40-1d5b-4266-bd37-9736cea0f9be',"}}
[info] >        'original-request': 'req_Wo5o11KIH1tUk1', {"user":"      'original-request': 'req_Wo5o11KIH1tUk1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_Wo5o11KIH1tUk1',"}}
[info] >        'request-id': 'req_Wo5o11KIH1tUk1', {"user":"      'request-id': 'req_Wo5o11KIH1tUk1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Wo5o11KIH1tUk1',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_Wo5o11KIH1tUk1' {"user":"    requestId: 'req_Wo5o11KIH1tUk1'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Wo5o11KIH1tUk1'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:50:49 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:50:49 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:50:49 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '51f57e40-1d5b-4266-bd37-9736cea0f9be', {"user":"    'idempotency-key': '51f57e40-1d5b-4266-bd37-9736cea0f9be',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '51f57e40-1d5b-4266-bd37-9736cea0f9be',"}}
[info] >      'original-request': 'req_Wo5o11KIH1tUk1', {"user":"    'original-request': 'req_Wo5o11KIH1tUk1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_Wo5o11KIH1tUk1',"}}
[info] >      'request-id': 'req_Wo5o11KIH1tUk1', {"user":"    'request-id': 'req_Wo5o11KIH1tUk1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Wo5o11KIH1tUk1',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_Wo5o11KIH1tUk1', {"user":"  requestId: 'req_Wo5o11KIH1tUk1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Wo5o11KIH1tUk1',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:50:49.528Z] [worker-us-central1-api-9c4a74af-36d6-4fd2-8c58-134271e212f7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9c4a74af-36d6-4fd2-8c58-134271e212f7]: exited"}}
[debug] [2022-06-27T05:50:49.529Z] [worker-us-central1-api-9c4a74af-36d6-4fd2-8c58-134271e212f7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9c4a74af-36d6-4fd2-8c58-134271e212f7]: FINISHED"}}
[debug] [2022-06-27T05:50:49.529Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:50:57.475Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:50:57.476Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:50:57.476Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:50:57.476Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-06-27T05:50:57.489Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:50:57.489Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:50:57.489Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:50:57.490Z] [worker-us-central1-api-e680d62b-468b-4f27-aed6-0631a67ad668]: Assigning socketPath: /tmp/fire_emu_170231.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e680d62b-468b-4f27-aed6-0631a67ad668]: Assigning socketPath: /tmp/fire_emu_170231.sock"}}
[debug] [2022-06-27T05:50:57.490Z] [worker-us-central1-api-e680d62b-468b-4f27-aed6-0631a67ad668]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e680d62b-468b-4f27-aed6-0631a67ad668]: BUSY"}}
[debug] [2022-06-27T05:50:58.909Z] [runtime-status] [170231] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:50:58.913Z] [runtime-status] [170231] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:50:58.917Z] [runtime-status] [170231] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:58.919Z] [runtime-status] [170231] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:58.921Z] [runtime-status] [170231] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:50:58.924Z] [runtime-status] [170231] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:58.984Z] [runtime-status] [170231] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:50:58.984Z] [runtime-status] [170231] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:50:58.987Z] [runtime-status] [170231] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:58.989Z] [runtime-status] [170231] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:58.991Z] [runtime-status] [170231] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:50:58.992Z] [runtime-status] [170231] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:50:59.148Z] [runtime-status] [170231] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:50:59.150Z] [runtime-status] [170231] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Running api in signature http"}}
[debug] [2022-06-27T05:50:59.157Z] [runtime-status] [170231] Attempting to listen to socketPath: /tmp/fire_emu_170231.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Attempting to listen to socketPath: /tmp/fire_emu_170231.sock"}}
[debug] [2022-06-27T05:50:59.164Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:50:59.165Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:50:59.175Z] [runtime-status] [170231] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:50:59.198Z] [runtime-status] [170231] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170231] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:50:59 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:50:59 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:50:59 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '08c83f99-1c21-407e-b593-b370aa065209', {"user":"      'idempotency-key': '08c83f99-1c21-407e-b593-b370aa065209',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '08c83f99-1c21-407e-b593-b370aa065209',"}}
[info] >        'original-request': 'req_2GX3gr03DNTrp3', {"user":"      'original-request': 'req_2GX3gr03DNTrp3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_2GX3gr03DNTrp3',"}}
[info] >        'request-id': 'req_2GX3gr03DNTrp3', {"user":"      'request-id': 'req_2GX3gr03DNTrp3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_2GX3gr03DNTrp3',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_2GX3gr03DNTrp3' {"user":"    requestId: 'req_2GX3gr03DNTrp3'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_2GX3gr03DNTrp3'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:50:59 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:50:59 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:50:59 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '08c83f99-1c21-407e-b593-b370aa065209', {"user":"    'idempotency-key': '08c83f99-1c21-407e-b593-b370aa065209',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '08c83f99-1c21-407e-b593-b370aa065209',"}}
[info] >      'original-request': 'req_2GX3gr03DNTrp3', {"user":"    'original-request': 'req_2GX3gr03DNTrp3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_2GX3gr03DNTrp3',"}}
[info] >      'request-id': 'req_2GX3gr03DNTrp3', {"user":"    'request-id': 'req_2GX3gr03DNTrp3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_2GX3gr03DNTrp3',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_2GX3gr03DNTrp3', {"user":"  requestId: 'req_2GX3gr03DNTrp3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_2GX3gr03DNTrp3',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:50:59.872Z] [worker-us-central1-api-e680d62b-468b-4f27-aed6-0631a67ad668]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e680d62b-468b-4f27-aed6-0631a67ad668]: exited"}}
[debug] [2022-06-27T05:50:59.872Z] [worker-us-central1-api-e680d62b-468b-4f27-aed6-0631a67ad668]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e680d62b-468b-4f27-aed6-0631a67ad668]: FINISHED"}}
[debug] [2022-06-27T05:50:59.872Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:51:04.738Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:51:04.738Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:51:04.739Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:51:04.739Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-06-27T05:51:04.749Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:51:04.750Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:51:04.750Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:51:04.750Z] [worker-us-central1-api-f32413ee-e971-4d17-94be-691781bae662]: Assigning socketPath: /tmp/fire_emu_170351.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f32413ee-e971-4d17-94be-691781bae662]: Assigning socketPath: /tmp/fire_emu_170351.sock"}}
[debug] [2022-06-27T05:51:04.750Z] [worker-us-central1-api-f32413ee-e971-4d17-94be-691781bae662]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f32413ee-e971-4d17-94be-691781bae662]: BUSY"}}
[debug] [2022-06-27T05:51:06.183Z] [runtime-status] [170351] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:51:06.187Z] [runtime-status] [170351] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:51:06.191Z] [runtime-status] [170351] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:51:06.193Z] [runtime-status] [170351] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:51:06.194Z] [runtime-status] [170351] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:51:06.195Z] [runtime-status] [170351] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:51:06.261Z] [runtime-status] [170351] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:51:06.261Z] [runtime-status] [170351] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:51:06.263Z] [runtime-status] [170351] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:51:06.264Z] [runtime-status] [170351] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:51:06.267Z] [runtime-status] [170351] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:51:06.267Z] [runtime-status] [170351] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:51:06.426Z] [runtime-status] [170351] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:51:06.427Z] [runtime-status] [170351] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Running api in signature http"}}
[debug] [2022-06-27T05:51:06.432Z] [runtime-status] [170351] Attempting to listen to socketPath: /tmp/fire_emu_170351.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Attempting to listen to socketPath: /tmp/fire_emu_170351.sock"}}
[debug] [2022-06-27T05:51:06.439Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:51:06.439Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:51:06.454Z] [runtime-status] [170351] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:51:06.486Z] [runtime-status] [170351] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170351] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:51:07 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:51:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:51:07 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '0944c112-37d8-4c24-b8f2-2bc618efddce', {"user":"      'idempotency-key': '0944c112-37d8-4c24-b8f2-2bc618efddce',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '0944c112-37d8-4c24-b8f2-2bc618efddce',"}}
[info] >        'original-request': 'req_yf313hnqfCQU6y', {"user":"      'original-request': 'req_yf313hnqfCQU6y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_yf313hnqfCQU6y',"}}
[info] >        'request-id': 'req_yf313hnqfCQU6y', {"user":"      'request-id': 'req_yf313hnqfCQU6y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_yf313hnqfCQU6y',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_yf313hnqfCQU6y' {"user":"    requestId: 'req_yf313hnqfCQU6y'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_yf313hnqfCQU6y'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:51:07 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:51:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:51:07 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '0944c112-37d8-4c24-b8f2-2bc618efddce', {"user":"    'idempotency-key': '0944c112-37d8-4c24-b8f2-2bc618efddce',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '0944c112-37d8-4c24-b8f2-2bc618efddce',"}}
[info] >      'original-request': 'req_yf313hnqfCQU6y', {"user":"    'original-request': 'req_yf313hnqfCQU6y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_yf313hnqfCQU6y',"}}
[info] >      'request-id': 'req_yf313hnqfCQU6y', {"user":"    'request-id': 'req_yf313hnqfCQU6y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_yf313hnqfCQU6y',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_yf313hnqfCQU6y', {"user":"  requestId: 'req_yf313hnqfCQU6y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_yf313hnqfCQU6y',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:51:07.131Z] [worker-us-central1-api-f32413ee-e971-4d17-94be-691781bae662]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f32413ee-e971-4d17-94be-691781bae662]: exited"}}
[debug] [2022-06-27T05:51:07.131Z] [worker-us-central1-api-f32413ee-e971-4d17-94be-691781bae662]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f32413ee-e971-4d17-94be-691781bae662]: FINISHED"}}
[debug] [2022-06-27T05:51:07.131Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:51:20.903Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:51:20.904Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:51:20.904Z] Accepted request GET /clone-a18f1/us-central1/api --> us-central1-api
[debug] [2022-06-27T05:51:20.904Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-06-27T05:51:20.919Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:51:20.919Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:51:20.919Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:51:20.920Z] [worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: Assigning socketPath: /tmp/fire_emu_170575.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: Assigning socketPath: /tmp/fire_emu_170575.sock"}}
[debug] [2022-06-27T05:51:20.920Z] [worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: BUSY"}}
[debug] [2022-06-27T05:51:22.430Z] [runtime-status] [170575] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:51:22.435Z] [runtime-status] [170575] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:51:22.438Z] [runtime-status] [170575] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:51:22.440Z] [runtime-status] [170575] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:51:22.442Z] [runtime-status] [170575] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:51:22.444Z] [runtime-status] [170575] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:51:22.506Z] [runtime-status] [170575] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:51:22.507Z] [runtime-status] [170575] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:51:22.508Z] [runtime-status] [170575] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:51:22.509Z] [runtime-status] [170575] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:51:22.511Z] [runtime-status] [170575] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:51:22.511Z] [runtime-status] [170575] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:51:22.691Z] [runtime-status] [170575] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:51:22.692Z] [runtime-status] [170575] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Running api in signature http"}}
[debug] [2022-06-27T05:51:22.700Z] [runtime-status] [170575] Attempting to listen to socketPath: /tmp/fire_emu_170575.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Attempting to listen to socketPath: /tmp/fire_emu_170575.sock"}}
[debug] [2022-06-27T05:51:22.709Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:51:22.709Z] [functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api, mapping to path=/"}}
[debug] [2022-06-27T05:51:22.723Z] [runtime-status] [170575] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Ephemeral server handling GET request"}}
[debug] [2022-06-27T05:51:22.743Z] [runtime-status] [170575] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-06-27T05:51:22.749Z] [worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: IDLE"}}
[debug] [2022-06-27T05:51:22.749Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:55:31.093Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:55:31.093Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:55:31.093Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:55:31.093Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:55:31.094Z] [worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: Assigning socketPath: /tmp/fire_emu_170575.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: Assigning socketPath: /tmp/fire_emu_170575.sock"}}
[debug] [2022-06-27T05:55:31.094Z] [worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: BUSY"}}
[debug] [2022-06-27T05:55:31.096Z] [runtime-status] [170575] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:55:31.097Z] [runtime-status] [170575] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Running api in signature http"}}
[debug] [2022-06-27T05:55:31.098Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-06-27T05:55:31.099Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-06-27T05:55:31.099Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:55:31.114Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:55:31.115Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-06-27T05:55:31.115Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:55:31.115Z] [worker-us-central1-api-d0eca13a-56a2-4858-bd14-66b18208bbbe]: Assigning socketPath: /tmp/fire_emu_174336.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d0eca13a-56a2-4858-bd14-66b18208bbbe]: Assigning socketPath: /tmp/fire_emu_174336.sock"}}
[debug] [2022-06-27T05:55:31.115Z] [worker-us-central1-api-d0eca13a-56a2-4858-bd14-66b18208bbbe]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d0eca13a-56a2-4858-bd14-66b18208bbbe]: BUSY"}}
[debug] [2022-06-27T05:55:31.120Z] [runtime-status] [170575] Attempting to listen to socketPath: /tmp/fire_emu_170575.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Attempting to listen to socketPath: /tmp/fire_emu_170575.sock"}}
[debug] [2022-06-27T05:55:31.124Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:55:31.124Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:55:31.135Z] [runtime-status] [170575] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:55:31.163Z] [runtime-status] [170575] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [170575] Ephemeral server survived."}}
[debug] [2022-06-27T05:55:32.548Z] [runtime-status] [174336] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:55:32.552Z] [runtime-status] [174336] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:55:32.555Z] [runtime-status] [174336] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:32.557Z] [runtime-status] [174336] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:32.558Z] [runtime-status] [174336] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:55:32.561Z] [runtime-status] [174336] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:32.624Z] [runtime-status] [174336] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:55:32.625Z] [runtime-status] [174336] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:55:32.626Z] [runtime-status] [174336] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:32.628Z] [runtime-status] [174336] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:32.630Z] [runtime-status] [174336] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:32.630Z] [runtime-status] [174336] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:55:32.784Z] [runtime-status] [174336] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:55:32.785Z] [runtime-status] [174336] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Running api in signature http"}}
[debug] [2022-06-27T05:55:32.790Z] [runtime-status] [174336] Attempting to listen to socketPath: /tmp/fire_emu_174336.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Attempting to listen to socketPath: /tmp/fire_emu_174336.sock"}}
[debug] [2022-06-27T05:55:32.796Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:55:32.797Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:55:32.808Z] [runtime-status] [174336] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:55:32.830Z] [runtime-status] [174336] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174336] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:55:34 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:55:34 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:55:34 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '271e945c-621f-4901-ac9c-9d738642b691', {"user":"      'idempotency-key': '271e945c-621f-4901-ac9c-9d738642b691',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '271e945c-621f-4901-ac9c-9d738642b691',"}}
[info] >        'original-request': 'req_xsciTowVqWL3am', {"user":"      'original-request': 'req_xsciTowVqWL3am',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_xsciTowVqWL3am',"}}
[info] >        'request-id': 'req_xsciTowVqWL3am', {"user":"      'request-id': 'req_xsciTowVqWL3am',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_xsciTowVqWL3am',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_xsciTowVqWL3am' {"user":"    requestId: 'req_xsciTowVqWL3am'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_xsciTowVqWL3am'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:55:34 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:55:34 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:55:34 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '271e945c-621f-4901-ac9c-9d738642b691', {"user":"    'idempotency-key': '271e945c-621f-4901-ac9c-9d738642b691',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '271e945c-621f-4901-ac9c-9d738642b691',"}}
[info] >      'original-request': 'req_xsciTowVqWL3am', {"user":"    'original-request': 'req_xsciTowVqWL3am',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_xsciTowVqWL3am',"}}
[info] >      'request-id': 'req_xsciTowVqWL3am', {"user":"    'request-id': 'req_xsciTowVqWL3am',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_xsciTowVqWL3am',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_xsciTowVqWL3am', {"user":"  requestId: 'req_xsciTowVqWL3am',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_xsciTowVqWL3am',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:55:34 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:55:34 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:55:34 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '9bc1311e-daf8-47a7-aa57-04ab93379acf', {"user":"      'idempotency-key': '9bc1311e-daf8-47a7-aa57-04ab93379acf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '9bc1311e-daf8-47a7-aa57-04ab93379acf',"}}
[info] >        'original-request': 'req_5kAHqTPSPWXeoU', {"user":"      'original-request': 'req_5kAHqTPSPWXeoU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_5kAHqTPSPWXeoU',"}}
[info] >        'request-id': 'req_5kAHqTPSPWXeoU', {"user":"      'request-id': 'req_5kAHqTPSPWXeoU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_5kAHqTPSPWXeoU',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_5kAHqTPSPWXeoU' {"user":"    requestId: 'req_5kAHqTPSPWXeoU'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_5kAHqTPSPWXeoU'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:55:34 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:55:34 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:55:34 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '9bc1311e-daf8-47a7-aa57-04ab93379acf', {"user":"    'idempotency-key': '9bc1311e-daf8-47a7-aa57-04ab93379acf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '9bc1311e-daf8-47a7-aa57-04ab93379acf',"}}
[info] >      'original-request': 'req_5kAHqTPSPWXeoU', {"user":"    'original-request': 'req_5kAHqTPSPWXeoU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_5kAHqTPSPWXeoU',"}}
[info] >      'request-id': 'req_5kAHqTPSPWXeoU', {"user":"    'request-id': 'req_5kAHqTPSPWXeoU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_5kAHqTPSPWXeoU',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_5kAHqTPSPWXeoU', {"user":"  requestId: 'req_5kAHqTPSPWXeoU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_5kAHqTPSPWXeoU',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:55:34.213Z] [worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: exited"}}
[debug] [2022-06-27T05:55:34.213Z] [worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4ec7b94e-7220-485d-8a17-c9a3430a7942]: FINISHED"}}
[debug] [2022-06-27T05:55:34.213Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:55:34.214Z] [worker-us-central1-api-d0eca13a-56a2-4858-bd14-66b18208bbbe]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d0eca13a-56a2-4858-bd14-66b18208bbbe]: exited"}}
[debug] [2022-06-27T05:55:34.214Z] [worker-us-central1-api-d0eca13a-56a2-4858-bd14-66b18208bbbe]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d0eca13a-56a2-4858-bd14-66b18208bbbe]: FINISHED"}}
[debug] [2022-06-27T05:55:34.214Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T05:55:35.574Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T05:55:35.575Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:55:35.575Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:55:35.575Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-06-27T05:55:35.590Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:55:35.590Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T05:55:35.590Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:55:35.590Z] [worker-us-central1-api-3aef3b78-5f0a-44aa-9903-33f0c11495b5]: Assigning socketPath: /tmp/fire_emu_174450.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3aef3b78-5f0a-44aa-9903-33f0c11495b5]: Assigning socketPath: /tmp/fire_emu_174450.sock"}}
[debug] [2022-06-27T05:55:35.590Z] [worker-us-central1-api-3aef3b78-5f0a-44aa-9903-33f0c11495b5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3aef3b78-5f0a-44aa-9903-33f0c11495b5]: BUSY"}}
[debug] [2022-06-27T05:55:35.593Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-06-27T05:55:35.593Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-06-27T05:55:35.593Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T05:55:35.604Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T05:55:35.604Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-06-27T05:55:35.604Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T05:55:35.605Z] [worker-us-central1-api-196dd49a-e5a7-4d72-8b83-972d2050d50c]: Assigning socketPath: /tmp/fire_emu_174456.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-196dd49a-e5a7-4d72-8b83-972d2050d50c]: Assigning socketPath: /tmp/fire_emu_174456.sock"}}
[debug] [2022-06-27T05:55:35.605Z] [worker-us-central1-api-196dd49a-e5a7-4d72-8b83-972d2050d50c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-196dd49a-e5a7-4d72-8b83-972d2050d50c]: BUSY"}}
[debug] [2022-06-27T05:55:37.101Z] [runtime-status] [174450] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:55:37.104Z] [runtime-status] [174456] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T05:55:37.105Z] [runtime-status] [174450] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:55:37.107Z] [runtime-status] [174456] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Disabled runtime features: undefined"}}
[debug] [2022-06-27T05:55:37.108Z] [runtime-status] [174450] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:37.110Z] [runtime-status] [174450] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:37.110Z] [runtime-status] [174456] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:37.115Z] [runtime-status] [174450] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:55:37.116Z] [runtime-status] [174450] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:37.118Z] [runtime-status] [174456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:37.118Z] [runtime-status] [174456] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T05:55:37.118Z] [runtime-status] [174456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:37.185Z] [runtime-status] [174456] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:55:37.186Z] [runtime-status] [174456] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:55:37.188Z] [runtime-status] [174456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:37.189Z] [runtime-status] [174456] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:37.190Z] [runtime-status] [174456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:37.191Z] [runtime-status] [174456] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:55:37.194Z] [runtime-status] [174450] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T05:55:37.194Z] [runtime-status] [174450] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T05:55:37.196Z] [runtime-status] [174450] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:37.198Z] [runtime-status] [174450] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:37.200Z] [runtime-status] [174450] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T05:55:37.200Z] [runtime-status] [174450] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T05:55:37.356Z] [runtime-status] [174456] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:55:37.357Z] [runtime-status] [174456] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Running api in signature http"}}
[debug] [2022-06-27T05:55:37.365Z] [runtime-status] [174456] Attempting to listen to socketPath: /tmp/fire_emu_174456.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Attempting to listen to socketPath: /tmp/fire_emu_174456.sock"}}
[debug] [2022-06-27T05:55:37.373Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:55:37.374Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:55:37.375Z] [runtime-status] [174450] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T05:55:37.375Z] [runtime-status] [174450] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Running api in signature http"}}
[debug] [2022-06-27T05:55:37.380Z] [runtime-status] [174450] Attempting to listen to socketPath: /tmp/fire_emu_174450.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Attempting to listen to socketPath: /tmp/fire_emu_174450.sock"}}
[debug] [2022-06-27T05:55:37.386Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T05:55:37.386Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T05:55:37.390Z] [runtime-status] [174456] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Ephemeral server handling POST request"}}
[debug] [2022-06-27T05:55:37.397Z] [runtime-status] [174450] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T05:55:37.420Z] [runtime-status] [174450] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174450] Ephemeral server survived."}}
[debug] [2022-06-27T05:55:37.421Z] [runtime-status] [174456] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [174456] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:55:38 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:55:38 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:55:38 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '373f54ad-9925-4d71-b379-b8bbfc6bb490', {"user":"      'idempotency-key': '373f54ad-9925-4d71-b379-b8bbfc6bb490',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '373f54ad-9925-4d71-b379-b8bbfc6bb490',"}}
[info] >        'original-request': 'req_o3EJfHVGW9qC9e', {"user":"      'original-request': 'req_o3EJfHVGW9qC9e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_o3EJfHVGW9qC9e',"}}
[info] >        'request-id': 'req_o3EJfHVGW9qC9e', {"user":"      'request-id': 'req_o3EJfHVGW9qC9e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_o3EJfHVGW9qC9e',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_o3EJfHVGW9qC9e' {"user":"    requestId: 'req_o3EJfHVGW9qC9e'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_o3EJfHVGW9qC9e'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:55:38 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:55:38 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:55:38 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '373f54ad-9925-4d71-b379-b8bbfc6bb490', {"user":"    'idempotency-key': '373f54ad-9925-4d71-b379-b8bbfc6bb490',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '373f54ad-9925-4d71-b379-b8bbfc6bb490',"}}
[info] >      'original-request': 'req_o3EJfHVGW9qC9e', {"user":"    'original-request': 'req_o3EJfHVGW9qC9e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_o3EJfHVGW9qC9e',"}}
[info] >      'request-id': 'req_o3EJfHVGW9qC9e', {"user":"    'request-id': 'req_o3EJfHVGW9qC9e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_o3EJfHVGW9qC9e',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_o3EJfHVGW9qC9e', {"user":"  requestId: 'req_o3EJfHVGW9qC9e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_o3EJfHVGW9qC9e',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 05:55:38 GMT', {"user":"      date: 'Mon, 27 Jun 2022 05:55:38 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 05:55:38 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '41f091d5-0b34-4705-accb-8fbcde444f3d', {"user":"      'idempotency-key': '41f091d5-0b34-4705-accb-8fbcde444f3d',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '41f091d5-0b34-4705-accb-8fbcde444f3d',"}}
[info] >        'original-request': 'req_WGHQMmFTqrcdSz', {"user":"      'original-request': 'req_WGHQMmFTqrcdSz',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_WGHQMmFTqrcdSz',"}}
[info] >        'request-id': 'req_WGHQMmFTqrcdSz', {"user":"      'request-id': 'req_WGHQMmFTqrcdSz',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_WGHQMmFTqrcdSz',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_WGHQMmFTqrcdSz' {"user":"    requestId: 'req_WGHQMmFTqrcdSz'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_WGHQMmFTqrcdSz'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 05:55:38 GMT', {"user":"    date: 'Mon, 27 Jun 2022 05:55:38 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 05:55:38 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '41f091d5-0b34-4705-accb-8fbcde444f3d', {"user":"    'idempotency-key': '41f091d5-0b34-4705-accb-8fbcde444f3d',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '41f091d5-0b34-4705-accb-8fbcde444f3d',"}}
[info] >      'original-request': 'req_WGHQMmFTqrcdSz', {"user":"    'original-request': 'req_WGHQMmFTqrcdSz',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_WGHQMmFTqrcdSz',"}}
[info] >      'request-id': 'req_WGHQMmFTqrcdSz', {"user":"    'request-id': 'req_WGHQMmFTqrcdSz',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_WGHQMmFTqrcdSz',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_WGHQMmFTqrcdSz', {"user":"  requestId: 'req_WGHQMmFTqrcdSz',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_WGHQMmFTqrcdSz',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T05:55:38.098Z] [worker-us-central1-api-3aef3b78-5f0a-44aa-9903-33f0c11495b5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3aef3b78-5f0a-44aa-9903-33f0c11495b5]: exited"}}
[debug] [2022-06-27T05:55:38.099Z] [worker-us-central1-api-3aef3b78-5f0a-44aa-9903-33f0c11495b5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3aef3b78-5f0a-44aa-9903-33f0c11495b5]: FINISHED"}}
[debug] [2022-06-27T05:55:38.099Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T05:55:38.099Z] [worker-us-central1-api-196dd49a-e5a7-4d72-8b83-972d2050d50c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-196dd49a-e5a7-4d72-8b83-972d2050d50c]: exited"}}
[debug] [2022-06-27T05:55:38.099Z] [worker-us-central1-api-196dd49a-e5a7-4d72-8b83-972d2050d50c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-196dd49a-e5a7-4d72-8b83-972d2050d50c]: FINISHED"}}
[debug] [2022-06-27T05:55:38.099Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-06-27T06:26:59.449Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-06-27T06:26:59.449Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-06-27T06:26:59.449Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T06:26:59.449Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-06-27T06:26:59.457Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T06:26:59.458Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-06-27T06:26:59.458Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T06:26:59.458Z] [worker-us-central1-api-f1baed91-b0c1-4af4-a31c-79a7bde82bf7]: Assigning socketPath: /tmp/fire_emu_194087.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1baed91-b0c1-4af4-a31c-79a7bde82bf7]: Assigning socketPath: /tmp/fire_emu_194087.sock"}}
[debug] [2022-06-27T06:26:59.458Z] [worker-us-central1-api-f1baed91-b0c1-4af4-a31c-79a7bde82bf7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1baed91-b0c1-4af4-a31c-79a7bde82bf7]: BUSY"}}
[debug] [2022-06-27T06:26:59.459Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-06-27T06:26:59.459Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-06-27T06:26:59.459Z] Accepted request POST /clone-a18f1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-06-27T06:26:59.467Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-06-27T06:26:59.467Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-06-27T06:26:59.467Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-06-27T06:26:59.467Z] [worker-us-central1-api-d71444af-bfed-4e05-be9a-2650f7a374d7]: Assigning socketPath: /tmp/fire_emu_194093.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d71444af-bfed-4e05-be9a-2650f7a374d7]: Assigning socketPath: /tmp/fire_emu_194093.sock"}}
[debug] [2022-06-27T06:26:59.467Z] [worker-us-central1-api-d71444af-bfed-4e05-be9a-2650f7a374d7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d71444af-bfed-4e05-be9a-2650f7a374d7]: BUSY"}}
[debug] [2022-06-27T06:27:00.065Z] [runtime-status] [194087] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T06:27:00.066Z] [runtime-status] [194087] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Disabled runtime features: undefined"}}
[debug] [2022-06-27T06:27:00.067Z] [runtime-status] [194087] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T06:27:00.069Z] [runtime-status] [194087] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T06:27:00.069Z] [runtime-status] [194087] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T06:27:00.070Z] [runtime-status] [194087] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T06:27:00.083Z] [runtime-status] [194093] Functions runtime initialized. {"cwd":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Functions runtime initialized. {\"cwd\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-06-27T06:27:00.084Z] [runtime-status] [194093] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Disabled runtime features: undefined"}}
[debug] [2022-06-27T06:27:00.086Z] [runtime-status] [194093] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T06:27:00.086Z] [runtime-status] [194093] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T06:27:00.087Z] [runtime-status] [194093] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-06-27T06:27:00.087Z] [runtime-status] [194093] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T06:27:00.094Z] [runtime-status] [194087] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T06:27:00.095Z] [runtime-status] [194087] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T06:27:00.095Z] [runtime-status] [194087] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T06:27:00.096Z] [runtime-status] [194087] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T06:27:00.097Z] [runtime-status] [194087] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T06:27:00.097Z] [runtime-status] [194087] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T06:27:00.113Z] [runtime-status] [194093] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-06-27T06:27:00.113Z] [runtime-status] [194093] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-06-27T06:27:00.114Z] [runtime-status] [194093] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T06:27:00.114Z] [runtime-status] [194093] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-06-27T06:27:00.115Z] [runtime-status] [194093] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-06-27T06:27:00.115Z] [runtime-status] [194093] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-06-27T06:27:00.158Z] [runtime-status] [194087] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T06:27:00.159Z] [runtime-status] [194087] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Running api in signature http"}}
[debug] [2022-06-27T06:27:00.161Z] [runtime-status] [194087] Attempting to listen to socketPath: /tmp/fire_emu_194087.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Attempting to listen to socketPath: /tmp/fire_emu_194087.sock"}}
[debug] [2022-06-27T06:27:00.164Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T06:27:00.164Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T06:27:00.169Z] [runtime-status] [194087] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T06:27:00.185Z] [runtime-status] [194087] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194087] Ephemeral server survived."}}
[debug] [2022-06-27T06:27:00.191Z] [runtime-status] [194093] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-06-27T06:27:00.192Z] [runtime-status] [194093] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Running api in signature http"}}
[debug] [2022-06-27T06:27:00.196Z] [runtime-status] [194093] Attempting to listen to socketPath: /tmp/fire_emu_194093.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Attempting to listen to socketPath: /tmp/fire_emu_194093.sock"}}
[debug] [2022-06-27T06:27:00.199Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-06-27T06:27:00.199Z] [functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a18f1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-06-27T06:27:00.205Z] [runtime-status] [194093] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-06-27T06:27:00.216Z] [runtime-status] [194093] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [194093] Ephemeral server survived."}}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 06:27:00 GMT', {"user":"      date: 'Mon, 27 Jun 2022 06:27:00 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 06:27:00 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '58bf44b1-3eae-4a27-8f23-4b93cf02c079', {"user":"      'idempotency-key': '58bf44b1-3eae-4a27-8f23-4b93cf02c079',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '58bf44b1-3eae-4a27-8f23-4b93cf02c079',"}}
[info] >        'original-request': 'req_Iyq2itiBZX0KQM', {"user":"      'original-request': 'req_Iyq2itiBZX0KQM',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_Iyq2itiBZX0KQM',"}}
[info] >        'request-id': 'req_Iyq2itiBZX0KQM', {"user":"      'request-id': 'req_Iyq2itiBZX0KQM',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Iyq2itiBZX0KQM',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_Iyq2itiBZX0KQM' {"user":"    requestId: 'req_Iyq2itiBZX0KQM'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Iyq2itiBZX0KQM'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 06:27:00 GMT', {"user":"    date: 'Mon, 27 Jun 2022 06:27:00 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 06:27:00 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '58bf44b1-3eae-4a27-8f23-4b93cf02c079', {"user":"    'idempotency-key': '58bf44b1-3eae-4a27-8f23-4b93cf02c079',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '58bf44b1-3eae-4a27-8f23-4b93cf02c079',"}}
[info] >      'original-request': 'req_Iyq2itiBZX0KQM', {"user":"    'original-request': 'req_Iyq2itiBZX0KQM',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_Iyq2itiBZX0KQM',"}}
[info] >      'request-id': 'req_Iyq2itiBZX0KQM', {"user":"    'request-id': 'req_Iyq2itiBZX0KQM',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Iyq2itiBZX0KQM',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_Iyq2itiBZX0KQM', {"user":"  requestId: 'req_Iyq2itiBZX0KQM',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Iyq2itiBZX0KQM',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T06:27:00.851Z] [worker-us-central1-api-d71444af-bfed-4e05-be9a-2650f7a374d7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d71444af-bfed-4e05-be9a-2650f7a374d7]: exited"}}
[debug] [2022-06-27T06:27:00.851Z] [worker-us-central1-api-d71444af-bfed-4e05-be9a-2650f7a374d7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d71444af-bfed-4e05-be9a-2650f7a374d7]: FINISHED"}}
[debug] [2022-06-27T06:27:00.851Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[info] >  /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222 {"user":"/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222"}}
[info] >                  err = new StripePermissionError(jsonResponse.error); {"user":"                err = new StripePermissionError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                 err = new StripePermissionError(jsonResponse.error);"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripePermissionError: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/pratham/web_projects/amazon-clone/Amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:222:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripePermissionError', {"user":"  type: 'StripePermissionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripePermissionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'secret_key_required', {"user":"    code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'secret_key_required',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >      message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.', {"user":"    message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 27 Jun 2022 06:27:00 GMT', {"user":"      date: 'Mon, 27 Jun 2022 06:27:00 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 27 Jun 2022 06:27:00 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '356', {"user":"      'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '356',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '8222d565-b662-4a79-8288-05a588c8853a', {"user":"      'idempotency-key': '8222d565-b662-4a79-8288-05a588c8853a',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '8222d565-b662-4a79-8288-05a588c8853a',"}}
[info] >        'original-request': 'req_DX11i3GNtC74Wl', {"user":"      'original-request': 'req_DX11i3GNtC74Wl',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_DX11i3GNtC74Wl',"}}
[info] >        'request-id': 'req_DX11i3GNtC74Wl', {"user":"      'request-id': 'req_DX11i3GNtC74Wl',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_DX11i3GNtC74Wl',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 403, {"user":"    statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 403,"}}
[info] >      requestId: 'req_DX11i3GNtC74Wl' {"user":"    requestId: 'req_DX11i3GNtC74Wl'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_DX11i3GNtC74Wl'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'secret_key_required', {"user":"  code: 'secret_key_required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'secret_key_required',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/secret-key-required', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/secret-key-required',"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 27 Jun 2022 06:27:00 GMT', {"user":"    date: 'Mon, 27 Jun 2022 06:27:00 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 27 Jun 2022 06:27:00 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '356', {"user":"    'content-length': '356',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '356',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '8222d565-b662-4a79-8288-05a588c8853a', {"user":"    'idempotency-key': '8222d565-b662-4a79-8288-05a588c8853a',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '8222d565-b662-4a79-8288-05a588c8853a',"}}
[info] >      'original-request': 'req_DX11i3GNtC74Wl', {"user":"    'original-request': 'req_DX11i3GNtC74Wl',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_DX11i3GNtC74Wl',"}}
[info] >      'request-id': 'req_DX11i3GNtC74Wl', {"user":"    'request-id': 'req_DX11i3GNtC74Wl',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_DX11i3GNtC74Wl',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_DX11i3GNtC74Wl', {"user":"  requestId: 'req_DX11i3GNtC74Wl',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_DX11i3GNtC74Wl',"}}
[info] >    statusCode: 403, {"user":"  statusCode: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 403,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-06-27T06:27:00.960Z] [worker-us-central1-api-f1baed91-b0c1-4af4-a31c-79a7bde82bf7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1baed91-b0c1-4af4-a31c-79a7bde82bf7]: exited"}}
[debug] [2022-06-27T06:27:00.960Z] [worker-us-central1-api-f1baed91-b0c1-4af4-a31c-79a7bde82bf7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1baed91-b0c1-4af4-a31c-79a7bde82bf7]: FINISHED"}}
[debug] [2022-06-27T06:27:00.960Z] [work-queue] {"queueLength":0,"workRunningCount":0}
